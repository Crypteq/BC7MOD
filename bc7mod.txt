{$CLEO .CS}

////////////////////////////////////////////////////////////////////////////
// Global variables                                                       //
////////////////////////////////////////////////////////////////////////////

//TODO: Change to local vars
07AF: $PLAYER_GROUP = player $PLAYER_CHAR group 
0630: put_actor $PLAYER_ACTOR in_group $PLAYER_GROUP as_leader

////////////////////////////////////////////////////////////////////////////
// Local variables                                                        //
//////////////////////////////////////////////////////////////////////////// 
const
    THREAD_POINTER = 0@
    FIRST_TIME_USE = 1@
    VEHICLE_AUTOFLIP = 2@
    UNLIMITED_AMMO = 3@
    HOTKEY_CTRL = 4@
    PLAYER_HEALTH = 5@
    PLAYER_VEHICLE = 6@
    PLAYER_GODMODE = 7@  
    VEHICLE_GODMODE = 8@
    BIKE_NOTFALLOFF = 9@

    HOTKEY_OTHER = 10@
    MISSION_TIMER = 11@
    
    TEMPORARY_VALUE_1 = 12@
    TEMPORARY_VALUE_2 = 13@
    TEMPORARY_VALUE_3 = 14@
    TEMPORARY_VALUE_4 = 15@
    TEMPORARY_STRING_1 = 16@
    TEMPORARY_STRING_2 = 17@
    TEMPORARY_INTEGER_1 = 18@ 
    KEYBOARD_TYPING = 19@
    SELECTED_ENTITY = 20@
    
    CURRENT_MENU = 21@
    SELECTED_MENU_ITEM = 22@
    MENU_VISIBLE = 23@
    GAME_SPEED = 24@  
    
    NEVER_WANTED_LEVEL = 25@
    TEMPORARY_MODEL = 26@
    HANDLING_OFFSET = 27@
    TEMPORARY_FLAG_1 = 28@
 
   
    TEXT_ARRAY = 29@
    EXTRA_VARS_MEMORY_POINTER = 30@
    EXTRA_VARS_MEMORY_ARRAY = 31@      
end


////////////////////////////////////////////////////////////////////////////
// Extended local variables; This vars won't be saved in the thread       //
////////////////////////////////////////////////////////////////////////////
gosub @Create_Vars


////////////////////////////////////////////////////////////////////////////
// Set extended variables                                                 //
////////////////////////////////////////////////////////////////////////////
const
PLAYER_MODEL_DEFAULT = 34@(31@,1i)
PLAYER_MODEL_GANG = 35@(31@,1i)
PLAYER_MODEL_COP = 36@(31@,1i)
GRAVITY_LEVEL = 37@(31@,1i)
GENERAL_VALUE_MIN = 38@(31@,1i) 
GENERAL_VALUE_MAX = 39@(31@,1i)
TEMPORARY_FLAG_2 = 40@(31@,1i)
GENERAL_VALUE_HOLDER = 41@(31@,1i)
GENERAL_STEP_VALUE = 42@(31@,1i)
end

0006: PLAYER_MODEL_DEFAULT = 7 
0006: PLAYER_MODEL_GANG = 102 
0006: PLAYER_MODEL_COP = 280 
0006: GRAVITY_LEVEL = 10 
0006: GENERAL_VALUE_MIN = -1 
0006: GENERAL_VALUE_MAX = -1
0006: TEMPORARY_FLAG_1 = -1
0006: TEMPORARY_FLAG_2 = -1

PLAYER_HEALTH = Actor.Health($PLAYER_ACTOR)
GAME_SPEED = 1.0   

////////////////////////////////////////////////////////////////////////////
// Read keys                                                              //
////////////////////////////////////////////////////////////////////////////

//Todo: Clean
0AC8: 16@ = allocate_memory_size 260
0AC8: 17@ = allocate_memory_size 260
0AC8: 18@ = allocate_memory_size 260

03A4: name_thread 'FTIME'
    0A95: enable_thread_saving
    wait 0
   //Needs cleanup 
   // if FIRST_TIME_USE == 0 
      
    if 0AAB:  file_exists "CLEO\BC7MOD_config.ini"
    then
        jump @BC7MOD_START
    else
        repeat
            wait 100
        until 816B:   not fading     
        if and
            0038:   $INTRO_TOTAL_PASSED_MISSIONS == 0 
            0038:   $60 == 0   
        then
            repeat
                wait 100
            until 8038:   not  $60 == 0
        end 
    
        wait 1000
        03E5: show_text_box 'BNGT' 
        jump @FTIME_1
    else
        jump @BC7MOD_START
    end
    
    :FTIME_1
        wait 0 ms
        if and
           Player.Defined($PLAYER_CHAR)     
        else_jump @FTIME_1
        
        FIRST_TIME_USE = 1
        MENU_VISIBLE = 1
        08DA: remove_panel CURRENT_MENU
        Player.CanMove($PLAYER_CHAR) = False
        08D4: CURRENT_MENU = create_panel_with_title 'DUMMY' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
        08DB: set_panel CURRENT_MENU column 0 header 'BNGT' data 'DUMMY' 'BFWT1' 'BFWT2' 'DUMMY' 'BFWT3' 'BFWT4' 'BFWT5' 'DUMMY' 'BFWT6' 'DUMMY' 'DUMMY' 'DUMMY'
        08D9: set_panel CURRENT_MENU row 1 enable 0
        08D9: set_panel CURRENT_MENU row 2 enable 0
        gosub @StandardMenu 
        
        if 0039:   MENU_VISIBLE == 1
        then
            if 0039:   SELECTED_MENU_ITEM == 4
            then
                jump @Changelog
            end
            
            if 0039:   SELECTED_MENU_ITEM == 5
            then
                  jump @TanksTo
            end
            if 0039:   SELECTED_MENU_ITEM == 6
            then
                  jump @license
            end
        
            if 0039:   SELECTED_MENU_ITEM == 8
            then
                gosub @RemoveMenu
                jump @BC7MOD_START
            end
         end
    jump @BC7MOD_START
    
    :Changelog
        08DA: remove_panel CURRENT_MENU
        Player.CanMove($PLAYER_CHAR) = False
        wait 0
        08D4: CURRENT_MENU = create_panel_with_title 'BCHLT' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
        08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BCHL1' 'BCHL2' 'BCHL3' 'BCHL4' 'BCHL5' 'BCHL6' 'BCHL7' 'BCHL8' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY'
        08D9: set_panel CURRENT_MENU row 0 enable 0
        08D9: set_panel CURRENT_MENU row 1 enable 0
        08D9: set_panel CURRENT_MENU row 2 enable 0
        08D9: set_panel CURRENT_MENU row 3 enable 0
        08D9: set_panel CURRENT_MENU row 4 enable 0
        08D9: set_panel CURRENT_MENU row 5 enable 0
        08D9: set_panel CURRENT_MENU row 6 enable 0
        08D9: set_panel CURRENT_MENU row 7 enable 0  
        gosub @StandardMenu   
        
        if 0039:   MENU_VISIBLE == 1
        then
            if 
                0039:   SELECTED_MENU_ITEM == 9
            then
                SELECTED_MENU_ITEM = 0
                jump @FTIME_1
            end
            if 
                0039:   SELECTED_MENU_ITEM == 10
            then
                gosub @RemoveMenu
            end
        end              
    jump @BC7MOD_START
    
    :TanksTo
        08DA: remove_panel CURRENT_MENU
        Player.CanMove($PLAYER_CHAR) = False
        wait 0
        08D4: CURRENT_MENU = create_panel_with_title 'BTTT' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
        08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BTT1' 'BTT2' 'BTT3' 'BTT4' 'BTT5' 'BTT6' 'BTT7' 'BTT8' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY'
        08D9: set_panel CURRENT_MENU row 0 enable 0
        08D9: set_panel CURRENT_MENU row 1 enable 0
        08D9: set_panel CURRENT_MENU row 2 enable 0
        08D9: set_panel CURRENT_MENU row 3 enable 0
        08D9: set_panel CURRENT_MENU row 4 enable 0
        08D9: set_panel CURRENT_MENU row 5 enable 0
        08D9: set_panel CURRENT_MENU row 6 enable 0
        08D9: set_panel CURRENT_MENU row 7 enable 0  
        gosub @StandardMenu   
        
        if 
            0039:   MENU_VISIBLE == 1
        then
            if 
                0039:   SELECTED_MENU_ITEM == 9
            then
                SELECTED_MENU_ITEM = 0
                jump @FTIME_1
            end
            if 
                0039:   SELECTED_MENU_ITEM == 10
            then
                gosub @RemoveMenu
            end
        end 
    jump @BC7MOD_START
    
     :license
        08DA: remove_panel CURRENT_MENU
        Player.CanMove($PLAYER_CHAR) = False
        wait 0
        08D4: CURRENT_MENU = create_panel_with_title 'LICMT' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
        08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'LICM1' 'LICM2' 'LICM3' 'LICM4' 'DUMMY' 'LICM5' 'LICM6' 'DUMMY' 'BNEP' 'DUMMY' 'BBACK' 'BEXIT'
        08D9: set_panel CURRENT_MENU row 0 enable 0
        08D9: set_panel CURRENT_MENU row 1 enable 0
        08D9: set_panel CURRENT_MENU row 2 enable 0
        08D9: set_panel CURRENT_MENU row 3 enable 0
        08D9: set_panel CURRENT_MENU row 4 enable 0
        08D9: set_panel CURRENT_MENU row 5 enable 0
        08D9: set_panel CURRENT_MENU row 6 enable 0
        08D9: set_panel CURRENT_MENU row 7 enable 0  
        gosub @StandardMenu   
        
        if 
            0039:   MENU_VISIBLE == 1
        then
            if 
                0039:   SELECTED_MENU_ITEM == 8      
            then
                SELECTED_MENU_ITEM = 0
                jump @license_2
            end
            if 
                0039:   SELECTED_MENU_ITEM == 10
            then
                SELECTED_MENU_ITEM = 0
                jump @FTIME_1
            end
            if 
                0039:   SELECTED_MENU_ITEM == 11
            then
                gosub @RemoveMenu
            end
        end 
    jump @BC7MOD_START
    
      :license_2
        08DA: remove_panel CURRENT_MENU
        Player.CanMove($PLAYER_CHAR) = False
        wait 0
        08D4: CURRENT_MENU = create_panel_with_title 'LICMT' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
        08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'LICM7' 'LICM8' 'LICM9' 'LICM10' 'LICM11' 'LICM12' 'LICM13' 'LICM14' 'LICM15' 'DUMMY' 'BPRP' 'EXIT'
        08D9: set_panel CURRENT_MENU row 0 enable 0
        08D9: set_panel CURRENT_MENU row 1 enable 0
        08D9: set_panel CURRENT_MENU row 2 enable 0
        08D9: set_panel CURRENT_MENU row 3 enable 0
        08D9: set_panel CURRENT_MENU row 4 enable 0
        08D9: set_panel CURRENT_MENU row 5 enable 0
        08D9: set_panel CURRENT_MENU row 6 enable 0
        08D9: set_panel CURRENT_MENU row 7 enable 0 
        08D9: set_panel CURRENT_MENU row 8 enable 0        
        gosub @StandardMenu   
        
        if 
            0039:   MENU_VISIBLE == 1
        then
            if 
                0039:   SELECTED_MENU_ITEM == 10
            then
                SELECTED_MENU_ITEM = 0
                jump @license
            end
            if 
                0039:   SELECTED_MENU_ITEM == 11
            then
                gosub @RemoveMenu
            end
        end  
    jump @BC7MOD_START
    
0A93: end_custom_thread


03A4: name_thread 'BC7MOD'
0A95: enable_thread_saving                       

:BC7MOD_START 
if and
Player.Defined($PLAYER_CHAR)
80DF:   not actor $PLAYER_ACTOR driving 
8039:   not  PLAYER_VEHICLE == 0 
then
    0191: remove_upsidedown_car_check PLAYER_VEHICLE
    0006: PLAYER_VEHICLE = 0
end

if and
Player.Defined($PLAYER_CHAR)
00DF:   actor $PLAYER_ACTOR driving 
0039:   PLAYER_VEHICLE == 0 
then
    03C0: PLAYER_VEHICLE = actor $PLAYER_ACTOR car 
	0190: add_upsidedown_car_check PLAYER_VEHICLE
end

//Need cleanup
//if and
//    Player.Defined($PLAYER_CHAR)
//    Actor.Driving($PLAYER_ACTOR)
//then
//    03C0: PLAYER_VEHICLE = actor $PLAYER_ACTOR car 
//end



:BC7MOD5_1
if and
    Player.Defined($PLAYER_CHAR)
    PLAYER_GODMODE == 1
then
    Actor.SetImmunities($PLAYER_ACTOR, 1, 1, 1, 1, 1)    
end

if and
    Player.Defined($PLAYER_CHAR)
    PLAYER_GODMODE == 0
then
    Actor.SetImmunities($PLAYER_ACTOR, 0, 0, 0, 0, 0)      
end

if and
    Player.Defined($PLAYER_CHAR)
    Actor.Driving($PLAYER_ACTOR)
    VEHICLE_GODMODE == 1
then
    0852: set_car PLAYER_VEHICLE damages_visible 0 
    Car.SetImmunities(PLAYER_VEHICLE, 1, 1, 1, 1, 1)
    Car.Health(PLAYER_VEHICLE) = 1000
    054F: clear_car PLAYER_VEHICLE damage 
    0A30: repair_car PLAYER_VEHICLE 
end

if and
    Player.Defined($PLAYER_CHAR)
    Actor.Driving($PLAYER_ACTOR)
    VEHICLE_GODMODE == 0
then
    0852: set_car PLAYER_VEHICLE damages_visible 1 
    Car.SetImmunities(PLAYER_VEHICLE, 0, 0, 0, 0, 0)
end

//Mission timer

:BC7MOD5_3 
if 
  $ONMISSION == 1
then
    if
      MISSION_TIMER == 1 
    then
        0396: pause_timer 1 
    else
        0396: pause_timer 0 
    end
end

:BC7MOD5_6
if and                                           
  BIKE_NOTFALLOFF == 1
  Actor.Driving($PLAYER_ACTOR)
then
    08C6: set_actor $PLAYER_ACTOR stay_on_bike 1 
else
    08C6: set_actor $PLAYER_ACTOR stay_on_bike 0
end

:B7MOD_5_6_5
if and
    Player.Defined($PLAYER_CHAR)
    NEVER_WANTED_LEVEL == 0x1
    010F:   player $PLAYER_CHAR wanted_level > 0 
then
    010D: set_player $PLAYER_CHAR wanted_level_to 0    
end

:VehicleFlip
if and
Actor.Driving($PLAYER_ACTOR)
0039:   VEHICLE_AUTOFLIP == 1                   
then
    if 018F:   car PLAYER_VEHICLE flipped_for_2_seconds 
    then
        0731: set_car PLAYER_VEHICLE y_angle_to 0 
    end
end 

:WEAPON_UNLIMMITED_AMMO
if 0039:   UNLIMITED_AMMO == 1
then
    0470: TEMPORARY_VALUE_1 = actor $PLAYER_ACTOR current_weapon 
    041A: TEMPORARY_VALUE_2 = actor $PLAYER_ACTOR weapon TEMPORARY_VALUE_1 ammo 
    if 8039:   not  TEMPORARY_VALUE_2 == 99999 
    then
        017B: set_actor $PLAYER_ACTOR weapon TEMPORARY_VALUE_1 ammo_to 99999 
    end
end 

:BC7MOD_DBG
wait 0
if
0AB0:   key_pressed 115
then
0ACF: show_formatted_styled_text "Keys %d - %d" time 2000 style 1 HOTKEY_CTRL HOTKEY_OTHER
end  

:BC7MOD_MAINMENU
wait 0
if player.Defined($PLAYER_CHAR)
then
    if or
    0039:   HOTKEY_CTRL == 0 
    0039:   HOTKEY_CTRL == 1 //Fix for SCM BUG 
    0039:   HOTKEY_OTHER == 0 
    then
    gosub @GET_HOTKEYS
        if 0039:   HOTKEY_CTRL == 1  //Fix for SCM BUG ^
        then
            HOTKEY_CTRL = 17
        end
    end
else
    jump @BC7MOD_MAINMENU
end

:BC7MOD_MAIN_START
if and
    0AB0:   key_pressed HOTKEY_CTRL
    0AB0:   key_pressed HOTKEY_OTHER
then   
    08DA: remove_panel CURRENT_MENU
    Player.CanMove($PLAYER_CHAR) = false
    MENU_VISIBLE = 1
    :MAIN_START
    015D: set_gamespeed 0.0
    0512: show_permanent_text_box 'CLOTHA'
    
    08D4: CURRENT_MENU = create_panel_with_title 'BMTitle' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
    0ADF: add_dynamic_GXT_entry "DBUG" text "Development version"

    08DB:  set_panel CURRENT_MENU column 0 header 'DBUG' data 'BMAIN_1' 'BMAIN_2' 'BMAIN_3' 'BMAIN_4' 'DUMMY' 'BMAIN_5' 'BMAIN_6' 'BMAIN_7' 'DUMMY' 'BMAIN_8' 'DUMMY' 'BEXIT'          
    gosub @StandardMenu
    08DA: remove_panel CURRENT_MENU
             
    
    if 0039:   MENU_VISIBLE == 1
      then
        if 0039:   SELECTED_MENU_ITEM == 0 //Player options
        then
             jump @PLAYER_MENU
        end
         
        if 0039:   SELECTED_MENU_ITEM == 1 //Game options
        then
            jump @GAME_MENU
        end
        
         if 0039:   SELECTED_MENU_ITEM == 2 //Mission options
        then
          jump @MISSION_MENU
        end
        
         if 0039:   SELECTED_MENU_ITEM == 3 //Tools options
        then
          jump @MISCELLANEOUS_MENU
        end
        
         if 0039:   SELECTED_MENU_ITEM == 5 //peds options
        then
         jump @PEOPLE_MENU
        end
        
        if 0039:   SELECTED_MENU_ITEM ==  6//vehicle options
        then
         jump @VEHICLE_MENU
        end
        
        if 0039:   SELECTED_MENU_ITEM ==  7//weapons options
        then
          jump @WEAPON_MENU_1
        end
        
        if 0039:   SELECTED_MENU_ITEM ==  9//Settings 
        then
         jump @SETTINGS
        end
    
        gosub @RemoveMenu
      end
 end
jump @BC7MOD_START

//PLAYER MENU
:PLAYER_MENU
wait 0                            
08D4: CURRENT_MENU = create_panel_with_title 'BPLT' position 29.0 145.0 width 175.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BPLAY_1' 'BPLAY_2' 'BPLAY_3' 'BPLAY_4' 'BPLAY_5' 'DUMMY' 'BBACK'  'BEXIT'  'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 
08DB:  set_panel CURRENT_MENU column 1 header 'DUMMY' data 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'  'DUMMY'  'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
TEMPORARY_VALUE_1 = Player.Money($PLAYER_CHAR)
08EE: set_panel CURRENT_MENU column 1 row 4 text_1number GXT 'DOLLAR' number TEMPORARY_VALUE_1
090E: set_panel CURRENT_MENU active_row SELECTED_MENU_ITEM


if and
03EE:   player $PLAYER_CHAR controllable
80DF:   not actor $PLAYER_ACTOR driving 
8597:   not actor $PLAYER_ACTOR crouching 
8965:   not actor $PLAYER_ACTOR swimming 
then
08D9: set_panel CURRENT_MENU row 0 enable 1
08D9: set_panel CURRENT_MENU row 1 enable 1
else
08D9: set_panel CURRENT_MENU row 0 enable 0
08D9: set_panel CURRENT_MENU row 1 enable 0
end


if 0038:   $ONMISSION == 1 
then
    08D9: set_panel CURRENT_MENU row 0 enable 0
else
    08D9: set_panel CURRENT_MENU row 0 enable 1 
end

:PMChoice
if 0039:   PLAYER_GODMODE == 1
then
    08EE: set_panel CURRENT_MENU column 1 row 3 text_1number GXT 'BENAB' number 0
else
    08EE: set_panel CURRENT_MENU column 1 row 3 text_1number GXT 'BDISA' number 0
end
gosub @StandardMenu
                    

if 0039:   MENU_VISIBLE == 1
  then
 if 0039:   SELECTED_MENU_ITEM == 0 //skin
    then
       gosub @PLAYERSKINMENU
    end
 if 0039:   SELECTED_MENU_ITEM == 1 //Change apearance
    then
        jump @Change_appearance_menu
    end
 if 0039:   SELECTED_MENU_ITEM == 2 //Edit statistics
    then
        jump @STATISTIC_MENU
    end
 if 0039:   SELECTED_MENU_ITEM == 3 //godmode
    then
        if 0039:   PLAYER_GODMODE == 1
        then
            PLAYER_GODMODE = 0   
        else
            PLAYER_GODMODE = 1
        end   
        jump @PMChoice
    end
 if 0039:   SELECTED_MENU_ITEM == 4 //money
    then
         Player.Money($PLAYER_CHAR) += 100000
         TEMPORARY_VALUE_1 = Player.Money($PLAYER_CHAR)
         08EE: set_panel CURRENT_MENU column 1 row 4 text_1number GXT 'DOLLAR' number TEMPORARY_VALUE_1
         jump @PMChoice
    end
 if 0039:   SELECTED_MENU_ITEM == 6
    then      
    08DA: remove_panel CURRENT_MENU
    SELECTED_MENU_ITEM = 0               
    jump @MAIN_START    
    end
 if 0039:   SELECTED_MENU_ITEM == 7
    then
        gosub @RemoveMenu
    end
 end

jump @BC7MOD_START



:PLAYERSKINMENU
08DA: remove_panel CURRENT_MENU
015D: set_gamespeed 0.0
08D4: CURRENT_MENU = create_panel_with_title 'BPSMT' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'DUMMY' 'BPSM1' 'BPSM2' 'BPSM3' 'BPSM4' 'BPSM5' 'DUMMY' 'BBACK'  'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY'
08D9: set_panel CURRENT_MENU row 0 enable 0 


:SKINGROUPSELECT
gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
  then
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        jump @PLAYERSKINCITIZENSGROUP
    end
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
       jump @PLAYERSKINGANGGROUP
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
      jump @PLAYERSKINCOPGROUP 
    end
    if 0039:   SELECTED_MENU_ITEM == 4 
    then
      jump @SPECIALACTORS 
    end
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
    015D: set_gamespeed 1.0
        Model.Load(#NULL)
        038B: load_requested_models
        
        repeat
        wait 10
        until Model.Available(#NULL) 
        09C7: change_player $PLAYER_CHAR model_to #NULL
   015D: set_gamespeed 0.0 
        jump @SKINGROUPSELECT
    end
    
    if 0039:   SELECTED_MENU_ITEM == 7 
    then
       08DA: remove_panel CURRENT_MENU 
       jump  @PLAYER_MENU   
    end
    if 0039:   SELECTED_MENU_ITEM == 8 
    then
       gosub @RemoveMenu  
    end
end
jump @BC7MOD_MAINMENU

//PLAYER SKIN CITIZENS GROUP
:PLAYERSKINCITIZENSGROUP
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BPSM1' position 29.0 145.0 width 250.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BPSN' 'BPSP' 'DUMMY' 'BBACK'  'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

015D: set_gamespeed 1.0

01B4: toggle_player $PLAYER_CHAR can_move 0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset -0.75 3.0 1.0 
015F: set_camera_position TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 rotation 0.0 0.0 0.0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.75 0.0 0.25
0160: set_camera_point_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 mode 2 



gosub @SetcitizenPlayerModel

:CITIZENSSELECT
if  0039:   PLAYER_MODEL_DEFAULT == 7 
then
08D9: set_panel CURRENT_MENU row 1 enable 0
090E: set_panel CURRENT_MENU active_row 0
else
08D9: set_panel CURRENT_MENU row 1 enable 1
end

if  0039:   PLAYER_MODEL_DEFAULT == 264
then
08D9: set_panel CURRENT_MENU row 0 enable 0
090E: set_panel CURRENT_MENU active_row 1
else
08D9: set_panel CURRENT_MENU row 0 enable 1
end

gosub @StandardMenu     

if 0039:   MENU_VISIBLE == 1
  then
    if 0039:   SELECTED_MENU_ITEM == 0 //NEXT
    then
        if or
        0039:   PLAYER_MODEL_DEFAULT == 7 
        0039:   PLAYER_MODEL_DEFAULT == 41
        0039:   PLAYER_MODEL_DEFAULT == 64
        0039:   PLAYER_MODEL_DEFAULT == 73
        0039:   PLAYER_MODEL_DEFAULT == 85
        0039:   PLAYER_MODEL_DEFAULT == 148
        0039:   PLAYER_MODEL_DEFAULT == 207
        then
           000A: PLAYER_MODEL_DEFAULT += 2 
           gosub @SetcitizenPlayerModel
        else
        
            if 0039:   PLAYER_MODEL_DEFAULT == 101
            then
              PLAYER_MODEL_DEFAULT = 128
            else
            000A: PLAYER_MODEL_DEFAULT += 1
            end
            gosub @SetcitizenPlayerModel
        end         
        jump @CITIZENSSELECT 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 1 //PREVIOUS
    then 
        
        if or
        0039:   PLAYER_MODEL_DEFAULT == 9
        0039:   PLAYER_MODEL_DEFAULT == 43
        0039:   PLAYER_MODEL_DEFAULT == 66
        0039:   PLAYER_MODEL_DEFAULT == 75
        0039:   PLAYER_MODEL_DEFAULT == 87
        0039:   PLAYER_MODEL_DEFAULT == 128
        0039:   PLAYER_MODEL_DEFAULT == 150
        0039:   PLAYER_MODEL_DEFAULT == 209 
        then
        000E: PLAYER_MODEL_DEFAULT -= 2
         gosub @SetcitizenPlayerModel 
        else
        if
         0039:   PLAYER_MODEL_DEFAULT == 128
        then 
        PLAYER_MODEL_DEFAULT = 101
        else
        000E: PLAYER_MODEL_DEFAULT -= 1
        gosub @SetcitizenPlayerModel
        end
        end
    jump @CITIZENSSELECT    
    end
    
    if 0039:   SELECTED_MENU_ITEM == 3
    then
      08DA: remove_panel CURRENT_MENU 
       jump  @PLAYERSKINMENU
    end
    
    if 0039:   SELECTED_MENU_ITEM == 4
    then
    gosub @RemoveMenu
    end   
end

 jump @BC7MOD_MAINMENU
 
 //PLAYER SKIN GANG GROUP
:PLAYERSKINGANGGROUP
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BPSM2' position 29.0 145.0 width 250.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BPSN' 'BPSP' 'DUMMY' 'BBACK'  'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

015D: set_gamespeed 1.0
01B4: toggle_player $PLAYER_CHAR can_move 0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset -0.75 3.0 1.0 
015F: set_camera_position TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 rotation 0.0 0.0 0.0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.75 0.0 0.25
0160: set_camera_point_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 mode 2 

gosub @SetgangPlayerModel

:GANGSELECT
if  0039:   PLAYER_MODEL_GANG == 102 
then
08D9: set_panel CURRENT_MENU row 1 enable 0
090E: set_panel CURRENT_MENU active_row 0
else
08D9: set_panel CURRENT_MENU row 1 enable 1
end

if  0039:   PLAYER_MODEL_GANG == 127
then
08D9: set_panel CURRENT_MENU row 0 enable 0
090E: set_panel CURRENT_MENU active_row 1
else
08D9: set_panel CURRENT_MENU row 0 enable 1
end

gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
  then
    if 0039:   SELECTED_MENU_ITEM == 0 //NEXT
    then
        if
        0039:   PLAYER_MODEL_GANG == 118 
        then
           000A: PLAYER_MODEL_GANG += 2 
           gosub @SetgangPlayerModel
        else
            000A: PLAYER_MODEL_GANG += 1
            gosub @SetgangPlayerModel
        end         
        jump @GANGSELECT 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 1 //PREVIOUS
    then 
        
        if
        0039:   PLAYER_MODEL_GANG == 120
        then
        000E: PLAYER_MODEL_GANG -= 2
         gosub @SetgangPlayerModel 
        else
        if
        8039:   not  PLAYER_MODEL_GANG == 7
        then 
        000E: PLAYER_MODEL_GANG -= 1
        gosub @SetgangPlayerModel 
        end
        end
    jump @GANGSELECT    
    end
    
    if 0039:   SELECTED_MENU_ITEM == 3
    then
      08DA: remove_panel CURRENT_MENU 
       jump  @PLAYERSKINMENU
    end
    
    if 0039:   SELECTED_MENU_ITEM == 4
    then
    gosub @RemoveMenu
    end   
end

 jump @BC7MOD_MAINMENU
 
 //PLAYER SKIN COP GROUP
:PLAYERSKINCOPGROUP
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BPSM3' position 29.0 145.0 width 250.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BPSN' 'BPSP' 'DUMMY' 'BBACK'  'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'


015D: set_gamespeed 1.0
01B4: toggle_player $PLAYER_CHAR can_move 0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset -0.75 3.0 1.0 
015F: set_camera_position TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 rotation 0.0 0.0 0.0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.75 0.0 0.25
0160: set_camera_point_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 mode 2 

gosub @SetcopPlayerModel

:COPSELECT
if  0039:   PLAYER_MODEL_COP == 280 
then
08D9: set_panel CURRENT_MENU row 1 enable 0
090E: set_panel CURRENT_MENU active_row 0
else
08D9: set_panel CURRENT_MENU row 1 enable 1
end

if  0039:   PLAYER_MODEL_COP == 288
then
08D9: set_panel CURRENT_MENU row 0 enable 0
090E: set_panel CURRENT_MENU active_row 1
else
08D9: set_panel CURRENT_MENU row 0 enable 1
end

gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
  then
    if 0039:   SELECTED_MENU_ITEM == 0 //NEXT
    then
        if
        8039:   not  PLAYER_MODEL_COP == 288 
        then
            000A: PLAYER_MODEL_COP += 1
            gosub @SetcopPlayerModel
        end         
        jump @COPSELECT 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 1 //PREVIOUS
    then 
        
        if 8039:   not  PLAYER_MODEL_COP == 280
        then
        000E: PLAYER_MODEL_COP -= 1
        gosub @SetcopPlayerModel 
        end
    jump @COPSELECT 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 3
    then
      08DA: remove_panel CURRENT_MENU 
       jump  @PLAYERSKINMENU
    end
    
    if 0039:   SELECTED_MENU_ITEM == 4
    then
    gosub @RemoveMenu
    end   
end

 jump @BC7MOD_MAINMENU
 
 //SPECIAL ACTOR MENU    
:SPECIALACTORS
08DA: remove_panel CURRENT_MENU
wait 0
08D4: CURRENT_MENU = create_panel_with_title 'BSAT' position 29.0 145.0 width 250.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BSA1' 'BSA2' 'BSA3' 'BSA4' 'BSA5'  'BSA6'  'BSA7' 'BSA8' 'DUMMY' 'BNEP' 'BBACK'  'BEXIT' 
//03C8: rotate_player-180-degrees 
//Camera.SetBehindPlayer

015D: set_gamespeed 1.0
01B4: toggle_player $PLAYER_CHAR can_move 0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset -0.75 3.0 1.0 
015F: set_camera_position TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 rotation 0.0 0.0 0.0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.75 0.0 0.25
0160: set_camera_point_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 mode 2 

:ACTORCHOOSE
gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
  then
    if 0039:   SELECTED_MENU_ITEM == 0 
    then
        023C: load_special_actor 'SWEET' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE
     end
     if 0039:   SELECTED_MENU_ITEM == 1 
    then
        023C: load_special_actor 'KENDL' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE
     end
     if 0039:   SELECTED_MENU_ITEM == 2 
    then
        023C: load_special_actor 'RYDER2' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE
     end
     if 0039:   SELECTED_MENU_ITEM == 3 
    then
        023C: load_special_actor 'SMOKE' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE
     end
     if 0039:   SELECTED_MENU_ITEM == 4 
    then
        023C: load_special_actor 'CESAR' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE
     end
     if 0039:   SELECTED_MENU_ITEM == 5 
    then
        023C: load_special_actor 'EMMET' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE
     end
     if 0039:   SELECTED_MENU_ITEM == 6 
    then
        023C: load_special_actor 'HERN' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE
     end
     if 0039:   SELECTED_MENU_ITEM == 7 
    then
        023C: load_special_actor 'PULASKI' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE
     end

    if 0039:   SELECTED_MENU_ITEM == 9 
    then
         jump @SPECIALACTORS2
     end
       
      if 0039:   SELECTED_MENU_ITEM == 10 
    then
        08DA: remove_panel CURRENT_MENU 
        jump  @PLAYERSKINMENU 
     end
     
      if 0039:   SELECTED_MENU_ITEM == 11 
    then
     gosub @RemoveMenu
     end
end

jump @BC7MOD_MAINMENU

 //SPECIAL ACTOR MENU2    
:SPECIALACTORS2
08DA: remove_panel CURRENT_MENU
wait 0
08D4: CURRENT_MENU = create_panel_with_title 'BSAT' position 29.0 145.0 width 250.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BSA9' 'BSA10' 'BSA11' 'BSA12' 'BSA13'  'BSA14'  'BSA15' 'BSA16' 'DUMMY' 'BNEP' 'BPRP'  'BEXIT' 

015D: set_gamespeed 1.0   
01B4: toggle_player $PLAYER_CHAR can_move 0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset -0.75 3.0 1.0 
015F: set_camera_position TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 rotation 0.0 0.0 0.0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.75 0.0 0.25
0160: set_camera_point_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 mode 2      

:ACTORCHOOSE2
gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
  then
     if 0039:   SELECTED_MENU_ITEM == 0 
    then
        023C: load_special_actor 'TENPEN' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE2
     end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
        023C: load_special_actor 'TRUTH' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE2
     end
     if 0039:   SELECTED_MENU_ITEM == 2 
    then
        023C: load_special_actor 'WUZIMU' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE2
     end
     if 0039:   SELECTED_MENU_ITEM == 3 
    then
        023C: load_special_actor 'ZERO' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE2
     end
     if 0039:   SELECTED_MENU_ITEM == 4 
    then
        023C: load_special_actor 'TORINO' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE2
     end
     if 0039:   SELECTED_MENU_ITEM == 5 
    then
        023C: load_special_actor 'TBONE' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE2
     end
     if 0039:   SELECTED_MENU_ITEM == 6 
    then
        023C: load_special_actor 'ROSE' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE2
     end
     if 0039:   SELECTED_MENU_ITEM == 7 
    then
        023C: load_special_actor 'MADDOGG' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE2
     end

      /////////////////////
     
     if 0039:   SELECTED_MENU_ITEM == 9 
    then
       
       //VOLGENDE
        jump  @SPECIALACTORS3
     end
       
      if 0039:   SELECTED_MENU_ITEM == 10                
    then
        jump  @SPECIALACTORS 
     end
     
      if 0039:   SELECTED_MENU_ITEM == 11 
    then
     gosub @RemoveMenu
     end
end

jump @BC7MOD_MAINMENU

 //SPECIAL ACTOR MENU3    
:SPECIALACTORS3
08DA: remove_panel CURRENT_MENU
wait 0
08D4: CURRENT_MENU = create_panel_with_title 'BSAT' position 29.0 145.0 width 250.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BSA17' 'BSA18' 'BSA19' 'BSA20' 'BSA21'  'BSA22'  'BSA23' 'BSA24' 'DUMMY' 'BNEP' 'BPRP'  'BEXIT' 
//03C8: rotate_player-180-degrees 
//Camera.SetBehindPlayer

015D: set_gamespeed 1.0
01B4: toggle_player $PLAYER_CHAR can_move 0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset -0.75 3.0 1.0 
015F: set_camera_position TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 rotation 0.0 0.0 0.0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.75 0.0 0.25
0160: set_camera_point_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 mode 2 

:ACTORCHOOSE3
gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
  then
       if 0039:   SELECTED_MENU_ITEM == 0 
    then
        023C: load_special_actor 'JIZZY' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE3
     end                            
     if 0039:   SELECTED_MENU_ITEM == 1
    then
        023C: load_special_actor 'JETHRO' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE3
     end
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
        023C: load_special_actor 'DWAYNE' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE3
     end
     if 0039:   SELECTED_MENU_ITEM == 3 
    then
        023C: load_special_actor 'BBTHIN' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE3
     end
     if 0039:   SELECTED_MENU_ITEM == 4 
    then
        023C: load_special_actor 'ANDRE' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE3
     end
     if 0039:   SELECTED_MENU_ITEM == 5 
    then
        023C: load_special_actor 'OGLOC' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE3
     end
     if 0039:   SELECTED_MENU_ITEM == 6 
    then
        023C: load_special_actor 'SUZIE' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE3
     end
     if 0039:   SELECTED_MENU_ITEM == 7 
    then
        023C: load_special_actor 'SINDACO' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE3
     end

     if 0039:   SELECTED_MENU_ITEM == 9 
    then
        jump @SPECIALACTORS4
     end
       
      if 0039:   SELECTED_MENU_ITEM == 10 
    then
        jump  @SPECIALACTORS2 
     end
     
      if 0039:   SELECTED_MENU_ITEM == 11 
    then
     gosub @RemoveMenu
     end
end

jump @BC7MOD_MAINMENU

//SPECIAL ACTOR MENU4    
:SPECIALACTORS4
08DA: remove_panel CURRENT_MENU
wait 0
08D4: CURRENT_MENU = create_panel_with_title 'BSAT' position 29.0 145.0 width 250.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BSA25' 'BSA26' 'BSA27' 'BSA28' 'BSA29' 'DUMMY' 'BPRP' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'   

015D: set_gamespeed 1.0
01B4: toggle_player $PLAYER_CHAR can_move 0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset -0.75 3.0 1.0 
015F: set_camera_position TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 rotation 0.0 0.0 0.0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.75 0.0 0.25
0160: set_camera_point_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 mode 2 

:ACTORCHOOSE4
gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
  then
    
    if 0039:   SELECTED_MENU_ITEM == 0 
    then
        023C: load_special_actor 'PAUL' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE4
     end
     if 0039:   SELECTED_MENU_ITEM == 1 
    then
        023C: load_special_actor 'FORELLI' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE4
     end
     if 0039:   SELECTED_MENU_ITEM == 2 
    then
        023C: load_special_actor 'JANITOR' as 1
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE4
     end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
        023C: load_special_actor 'CAT' as 1
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE4
     end
     if 0039:   SELECTED_MENU_ITEM == 4 
    then
        023C: load_special_actor 'CLAUDE' as 1 
        gosub @SetspecialPlayerModel
        jump @ACTORCHOOSE4
     end
      /////////////////////
   if 0039:   SELECTED_MENU_ITEM == 6    
    then
        jump  @SPECIALACTORS3 
     end
     
      if 0039:   SELECTED_MENU_ITEM == 7 
    then
     gosub @RemoveMenu
     end
end

jump @BC7MOD_MAINMENU

//GAME MENU
:GAME_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BGOT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BGO0' 'BGO1' 'BGO2' 'BGO3' 'BGO4' 'BGO5' 'DUMMY'  'BBACK'  'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY'  
gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
  then
    if 0039:   SELECTED_MENU_ITEM == 0 
    then
       wait 0
       gosub @RemoveMenu 
        fade 0 700 
        wait 750 
        03D8: show_save_screen 
        wait 50
        fade 1 300 
        wait 300
        jump @BC7MOD_START
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
       jump  @TIME_MENU 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
       jump  @WEATHER1 
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
       jump  @GameSpeed 
    end
    if 0039:   SELECTED_MENU_ITEM == 4 
    then
       jump  @Population 
    end 
     if 0039:   SELECTED_MENU_ITEM == 5 
    then
       jump  @gravity 
    end
    if 0039:   SELECTED_MENU_ITEM == 7 
    then
       08DA: remove_panel CURRENT_MENU 
       jump  @MAIN_START   
    end
    if 0039:   SELECTED_MENU_ITEM == 8 
    then
       gosub @RemoveMenu  
    end
end

jump @BC7MOD_MAINMENU

:Change_appearance_menu
08DA: remove_panel CURRENT_MENU
015D: set_gamespeed 1.0
08D4: CURRENT_MENU = create_panel_with_title 'CPAT' position 29.0 145.0 width 235.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CPA1' 'CPA2' 'CPA3' 'CPA4' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

01B4: toggle_player $PLAYER_CHAR can_move 0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset -0.75 3.0 1.0 
015F: set_camera_position TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 rotation 0.0 0.0 0.0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.75 0.0 0.25
0160: set_camera_point_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 mode 2 

:Appearance_Menu_Select
gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
  then
    if 0039:   SELECTED_MENU_ITEM == 0 
    then
        08DA: remove_panel CURRENT_MENU 
       jump @appearance_hair_1
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
       jump @CLOTHES_CATEGORIES_1
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        jump @ACCESSORIES_CATEGORIES_1
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
        jump @TATTOS_CATEGORIES_1
    end
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
       08DA: remove_panel CURRENT_MENU 
       jump  @PLAYER_MENU  
    end
    if 0039:   SELECTED_MENU_ITEM == 6 
    then
       gosub @RemoveMenu  
    end
end

jump @BC7MOD_MAINMENU


:appearance_hair_1
//create dummy placeholders
0006: TEMPORARY_INTEGER_1 = 0 //default 

:load_hair
gosub @REMOVE_DYNAMIC_GXT_STRINGS
if or
0039:   TEMPORARY_INTEGER_1 == 0 
0039:   TEMPORARY_INTEGER_1 == 1
then
    075E: load_shopping_data_PRICES_subsection 'BARBERS' // v$ 
end

if or
0039:   TEMPORARY_INTEGER_1 == 2 
0039:   TEMPORARY_INTEGER_1 == 3
then
    075E: load_shopping_data_PRICES_subsection 'BARBER2' // v$ 
end

if or
0039:   TEMPORARY_INTEGER_1 == 4 
0039:   TEMPORARY_INTEGER_1 == 5
then
    075E: load_shopping_data_PRICES_subsection 'BARBER3' // v$ 
end

0006: TEMPORARY_VALUE_2 = 0 

if or
0039:   TEMPORARY_INTEGER_1 == 1
0039:   TEMPORARY_INTEGER_1 == 3
then
    0006: TEMPORARY_VALUE_2 = 8
end

if 
0039:   TEMPORARY_INTEGER_1 == 5
then
    0006: TEMPORARY_VALUE_2 = 9
end    

075D: load_shopping_data_SHOPS_subsection "HAIRCUTS" // v$ 
075F: store_shopping_data_entries_number_to TEMPORARY_VALUE_1 

08DA: remove_panel CURRENT_MENU
015D: set_gamespeed 1.0
08D4: CURRENT_MENU = create_panel_with_title 'CPHT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'DE1' 'DE2' 'DE3' 'DE4' 'DE5' 'DE6' 'DE7' 'DE8' 'DUMMY' 'BNEP' 'BPRP' 'BEXIT'
if 
0039:   TEMPORARY_INTEGER_1 == 0
then
    08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'DE1' 'DE2' 'DE3' 'DE4' 'DE5' 'DE6' 'DE7' 'DE8' 'DUMMY' 'BNEP' 'BBACK' 'BEXIT'
end
if 
0039:   TEMPORARY_INTEGER_1 == 5
then
    08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'DE1' 'DE2' 'DE3' 'DE4' 'DE5' 'DE6' 'DE7' 'DE8' 'DE9' 'DUMMY' 'BPRP' 'BEXIT'
end




0006: TEMPORARY_VALUE_4 = 0 
0006: TEMPORARY_VALUE_3 = 8 
while 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_4 // (int) 
     000A: TEMPORARY_VALUE_4 += 1  
     08D9: set_panel CURRENT_MENU row TEMPORARY_VALUE_4 enable 0
end

while 001D:   TEMPORARY_VALUE_1 > TEMPORARY_VALUE_2 // (int) 
    0760: store_shopping_data_index TEMPORARY_VALUE_2 textureCRC_to TEMPORARY_VALUE_3 
  
    000A: TEMPORARY_VALUE_2 += 1  
    078C: get_shopping_item_with_textureCRC TEMPORARY_VALUE_3 nametag_to 16@s // 8-byte string  
    
    0085: TEMPORARY_VALUE_4 = TEMPORARY_VALUE_2 // (int) 
    
    if or
    0039:   TEMPORARY_INTEGER_1 == 1
    0039:   TEMPORARY_INTEGER_1 == 3
    then
        000E: TEMPORARY_VALUE_4 -= 8 
    end
    
    if 
    0039:   TEMPORARY_INTEGER_1 == 5
    then
        000E: TEMPORARY_VALUE_4 -= 9 
    end
      
    if  8019:   not  TEMPORARY_VALUE_4 > 9
    then  
        0AD3: 17@s = format "DE%d" TEMPORARY_VALUE_4
        0AE0: remove_dynamic_GXT_entry 17@s
        0ADF: add_dynamic_GXT_entry 17@s text 16@s 
        
         0085: TEMPORARY_VALUE_3 = TEMPORARY_VALUE_4 // (int) 
         000E: TEMPORARY_VALUE_3 -= 1
        08D9: set_panel CURRENT_MENU row TEMPORARY_VALUE_3 enable 1
    end
    
end              
jump @create_hair_menu   


:create_hair_menu
01B4: toggle_player $PLAYER_CHAR can_move 0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset -0.75 0.8 0.5
015F: set_camera_position TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 rotation 0.0 0.0 0.0 
04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.75 0.0 0.25
0160: set_camera_point_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 mode 2 

:hair_Menu_Select
gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1
then

    if and
    0029:   SELECTED_MENU_ITEM >= 0 
    8019:   not  SELECTED_MENU_ITEM > 8
    then
        0085: TEMPORARY_VALUE_4 = SELECTED_MENU_ITEM
        //determine index
        if or
        0039:   TEMPORARY_INTEGER_1 == 1
        0039:   TEMPORARY_INTEGER_1 == 3
        0039:   TEMPORARY_INTEGER_1 == 5
        then       
            000A: TEMPORARY_VALUE_4 += 8 
        end
        
        
        
        0760: store_shopping_data_index TEMPORARY_VALUE_4 textureCRC_to TEMPORARY_VALUE_1 
        0783: get_shopping_item_with_textureCRC TEMPORARY_VALUE_1 flag 0 store_to TEMPORARY_VALUE_2 
        0783: get_shopping_item_with_textureCRC TEMPORARY_VALUE_1 flag 1 store_to TEMPORARY_VALUE_3 
        0784: set_player $PLAYER_CHAR textureCRC TEMPORARY_VALUE_1 modelCRC TEMPORARY_VALUE_2 bodypart TEMPORARY_VALUE_3 
        Player.Build($PLAYER_CHAR)
        jump @hair_Menu_Select
    end

    if 0039:   SELECTED_MENU_ITEM == 9
    then
       if 8039:   not  TEMPORARY_INTEGER_1 == 5
       then
          000A: TEMPORARY_INTEGER_1 += 1 
          jump @load_hair
       end 
    end

    if 0039:   SELECTED_MENU_ITEM == 10
    then
        if 
        0039:   TEMPORARY_INTEGER_1 == 0
        then
            jump @Change_appearance_menu
        else
            if 0019:   TEMPORARY_INTEGER_1 > 0 
            then
                000E: TEMPORARY_INTEGER_1 -= 1 
                jump @load_hair
            end 
        end
    end
    if 0039:   SELECTED_MENU_ITEM == 11
    then
        gosub @RemoveMenu 
    end
end
jump @BC7MOD_MAINMENU

:CLOTHES_CATEGORIES_1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'CLCT' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CLC1' 'CLC2' 'CLC3' 'CLC4' 'CLC5' 'CLC6' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY'

:CLOTHES_CATEGORIES_1_SET
gosub @StandardMenu      
if 
    0039:   MENU_VISIBLE == 1
then                                                                    
    if and
        8019:   not  SELECTED_MENU_ITEM > 4 
        0029:   SELECTED_MENU_ITEM >= 0
    then
        0085: TEMPORARY_VALUE_1 = SELECTED_MENU_ITEM //group_id
        TEMPORARY_VALUE_2 = 0     
        jump @CLOTHES_LIST_BUILD     
    else
        if 0039:   SELECTED_MENU_ITEM == 5
        then 
            08DA: remove_panel CURRENT_MENU    
            jump @remove_clothes_menu
        end
        if 0039:   SELECTED_MENU_ITEM == 7
        then 
            08DA: remove_panel CURRENT_MENU    
            jump @Change_appearance_menu
        end
        if 0039:   SELECTED_MENU_ITEM == 8  
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @BC7MOD_START


:CLOTHES_LIST_BUILD
gosub @REMOVE_DYNAMIC_GXT_STRINGS
//group id      

18@v = ""              
0AD3: 16@s = format "cg%d" TEMPORARY_VALUE_1  
0AF4: 18@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@s key "groupname" 
0006: TEMPORARY_VALUE_3 = TEMPORARY_VALUE_2      
0006: TEMPORARY_VALUE_3 = 0
 
0085: TEMPORARY_VALUE_4 = TEMPORARY_VALUE_2 // (int)     
0012: TEMPORARY_VALUE_4 *= 7 

if    
    0844:   string 18@v empty 
then 
    18@v = "" 
    08DA: remove_panel CURRENT_MENU
    jump @CLOTHES_CATEGORIES_1
end
    16@v = ""
    17@v = ""
    18@v = ""

:CLOTHES_BUILD_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'CLCT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'DE0' 'DE1' 'DE2' 'DE3' 'DE4' 'DE5' 'DE6' 'DUMMY' 'BPRP' 'BNEP' 'BBACK' 'BEXIT'

if
    0039:   TEMPORARY_VALUE_2 == 0 
then
    08D9: set_panel CURRENT_MENU row 8 enable 0    
    else
    08D9: set_panel CURRENT_MENU row 8 enable 1
end

repeat 
    16@v = ""
    17@v = ""                                          
    18@v = ""            
    0AD3: 16@v = format "cg%d" TEMPORARY_VALUE_1    
    0AD3: 18@v = format "name%d" TEMPORARY_VALUE_4             
    0AF4: 17@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 18@v     
    0AD3: 18@v = format "%s" 17@v    
    0AD3: 16@v = format "DE%d" TEMPORARY_VALUE_3
                                                                               
    if    
        0844:   string 18@v empty 
    then 
        0ADF: add_dynamic_GXT_entry 16@v text ""
        08D9: set_panel CURRENT_MENU row TEMPORARY_VALUE_3 enable 0
        08D9: set_panel CURRENT_MENU row 9 enable 0
    else
        0ADF: add_dynamic_GXT_entry 16@v text 18@v    
    end 

000A: TEMPORARY_VALUE_3 += 1        
000A: TEMPORARY_VALUE_4 += 1      
until 0039:   TEMPORARY_VALUE_3 == 7

16@v = ""  
17@v = ""
18@v = "" 

:CLOTHES_BUILD_MENU_SET
gosub @StandardMenu      
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
        8019:   not  SELECTED_MENU_ITEM > 6 
        0029:   SELECTED_MENU_ITEM >= 0
    then
        16@v = ""
        17@v = ""                                          
        18@v = "" 
        
        0085: TEMPORARY_VALUE_4 = TEMPORARY_VALUE_2 // (int) 

        0012: TEMPORARY_VALUE_4 *= 7
        005A: TEMPORARY_VALUE_4 += SELECTED_MENU_ITEM



        0AD3: 16@v = format "cg%d" TEMPORARY_VALUE_1     
        0AD3: 18@v = format "mod%d" TEMPORARY_VALUE_4            
        0AD3: 28@v = format "tex%d" TEMPORARY_VALUE_4  
        0AD3: 26@v = format "bod%d" TEMPORARY_VALUE_4    
        
        0ADF: add_dynamic_GXT_entry "DB1" text 16@v
        0ADF: add_dynamic_GXT_entry "DB2" text 18@v      
        TEMPORARY_VALUE_4 = -1         
        0AF0: TEMPORARY_VALUE_4 = get_int_from_ini_file "cleo\Wearable.ini" section 16@v key 26@v //bodypart id
        0AF4: 18@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 18@v  //model   
        0AF4: 28@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 28@v  //texture
        
        if
         TEMPORARY_VALUE_4 == -1
        then
            08DA: remove_panel CURRENT_MENU
            gosub @SHOW_ERROR
            jump @CLOTHES_CATEGORIES_1
        end
        
        Player.SetClothes($PLAYER_CHAR, 28@v, 18@v, TEMPORARY_VALUE_4)
        Player.Build($PLAYER_CHAR)
        
        16@v = ""
        17@v = ""                                          
        18@v = "" 
        jump @CLOTHES_BUILD_MENU_SET
    else
        if 0039:   SELECTED_MENU_ITEM == 8
        then
            08DA: remove_panel CURRENT_MENU
            000E: TEMPORARY_VALUE_2 -= 1
            jump @CLOTHES_LIST_BUILD  
        end
        if 0039:   SELECTED_MENU_ITEM == 9 
        then 
            08DA: remove_panel CURRENT_MENU
            000A: TEMPORARY_VALUE_2 += 1
            jump @CLOTHES_LIST_BUILD
        end
        if 0039:   SELECTED_MENU_ITEM == 10 
        then
            08DA: remove_panel CURRENT_MENU
                jump @CLOTHES_CATEGORIES_1    
        end
        if 0039:   SELECTED_MENU_ITEM == 11 
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @BC7MOD_START

:remove_clothes_menu
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'CLC6' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'RCE1' 'RCE2' 'RCE3' 'RCE4' 'RCE5' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 

:clothes_menu_set
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then                                                                    
        if 0039:   SELECTED_MENU_ITEM == 0
        then 
            Player.SetClothes($PLAYER_CHAR, "player_torso", "torso", 0)
            Player.Build($PLAYER_CHAR)
           jump @clothes_menu_set
        end
        if 0039:   SELECTED_MENU_ITEM == 1
        then 
            Player.SetClothes($PLAYER_CHAR, "player_legs", "legs", 2)
            Player.Build($PLAYER_CHAR)
           jump @clothes_menu_set
        end
        if 0039:   SELECTED_MENU_ITEM == 2
        then 
            Player.SetClothes($PLAYER_CHAR, "foot", "feet", 3)
            Player.Build($PLAYER_CHAR)
           jump @clothes_menu_set
        end
        if 0039:   SELECTED_MENU_ITEM == 3
        then 
            0784: set_player $PLAYER_CHAR textureCRC 0 modelCRC 0 bodypart 16
            Player.Build($PLAYER_CHAR)
           jump @clothes_menu_set
        end
        if 0039:   SELECTED_MENU_ITEM == 4
        then 
            0784: set_player $PLAYER_CHAR textureCRC 0 modelCRC 0 bodypart 17
            Player.Build($PLAYER_CHAR)
           jump @clothes_menu_set
        end
        if 0039:   SELECTED_MENU_ITEM == 6
        then 
             08DA: remove_panel CURRENT_MENU    
            jump @Change_appearance_menu    
        end
        if 0039:   SELECTED_MENU_ITEM == 7
        then 
            gosub @RemoveMenu
            jump @BC7MOD_START      
        end
end
jump @BC7MOD_START

:ACCESSORIES_CATEGORIES_1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'ACCT' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'ACC1' 'ACC2' 'ACC3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:ACCESSORIES_CATEGORIES_1_SET
gosub @StandardMenu      
if 
    0039:   MENU_VISIBLE == 1
then                                                                    
    if and
        8019:   not  SELECTED_MENU_ITEM > 2 
        0029:   SELECTED_MENU_ITEM >= 0
    then
        0085: TEMPORARY_VALUE_1 = SELECTED_MENU_ITEM //group_id
        TEMPORARY_VALUE_2 = 0     
        jump @ACCESSORIES_LIST_BUILD     
    else
        if 0039:   SELECTED_MENU_ITEM == 4
        then 
            08DA: remove_panel CURRENT_MENU    
            jump @Change_appearance_menu
        end
        if 0039:   SELECTED_MENU_ITEM == 5   
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @BC7MOD_START

:ACCESSORIES_LIST_BUILD
gosub @REMOVE_DYNAMIC_GXT_STRINGS
//group id      

18@v = ""              
0AD3: 16@s = format "ag%d" TEMPORARY_VALUE_1  
0AF4: 18@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@s key "groupname" 
0006: TEMPORARY_VALUE_3 = TEMPORARY_VALUE_2      
0006: TEMPORARY_VALUE_3 = 0
 
0085: TEMPORARY_VALUE_4 = TEMPORARY_VALUE_2 // (int)     
0012: TEMPORARY_VALUE_4 *= 7 

if    
    0844:   string 18@v empty 
then 
    18@v = "" 
    08DA: remove_panel CURRENT_MENU
    jump @ACCESSORIES_CATEGORIES_1
end
    16@v = ""
    17@v = ""
    18@v = ""

:ACCESSORIES_BUILD_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'ACCT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'DE0' 'DE1' 'DE2' 'DE3' 'DE4' 'DE5' 'DE6' 'DUMMY' 'BPRP' 'BNEP' 'BBACK' 'BEXIT'

if
    0039:   TEMPORARY_VALUE_2 == 0 
then
    08D9: set_panel CURRENT_MENU row 8 enable 0    
    else
    08D9: set_panel CURRENT_MENU row 8 enable 1
end

repeat 
    16@v = ""
    17@v = ""                                          
    18@v = ""            
    0AD3: 16@v = format "ag%d" TEMPORARY_VALUE_1    
    0AD3: 18@v = format "name%d" TEMPORARY_VALUE_4             
    0AF4: 17@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 18@v     
    0AD3: 18@v = format "%s" 17@v    
    0AD3: 16@v = format "DE%d" TEMPORARY_VALUE_3
                                                                               
    if    
        0844:   string 18@v empty 
    then 
        0ADF: add_dynamic_GXT_entry 16@v text ""
        08D9: set_panel CURRENT_MENU row TEMPORARY_VALUE_3 enable 0
        08D9: set_panel CURRENT_MENU row 9 enable 0
    else
        0ADF: add_dynamic_GXT_entry 16@v text 18@v    
    end 

000A: TEMPORARY_VALUE_3 += 1        
000A: TEMPORARY_VALUE_4 += 1      
until 0039:   TEMPORARY_VALUE_3 == 7

16@v = ""  
17@v = ""
18@v = "" 

:ACCESSORIES_BUILD_MENU_SET
gosub @StandardMenu      
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
        8019:   not  SELECTED_MENU_ITEM > 6 
        0029:   SELECTED_MENU_ITEM >= 0
    then
        16@v = ""
        17@v = ""                                          
        18@v = "" 
        
        0085: TEMPORARY_VALUE_4 = TEMPORARY_VALUE_2 // (int) 
        0012: TEMPORARY_VALUE_4 *= 7
        005A: TEMPORARY_VALUE_4 += SELECTED_MENU_ITEM



        0AD3: 16@v = format "ag%d" TEMPORARY_VALUE_1     
        0AD3: 18@v = format "mod%d" TEMPORARY_VALUE_4            
        0AD3: 28@v = format "tex%d" TEMPORARY_VALUE_4  
        0AD3: 26@v = format "bod%d" TEMPORARY_VALUE_4    
        
        0ADF: add_dynamic_GXT_entry "DB1" text 16@v
        0ADF: add_dynamic_GXT_entry "DB2" text 18@v      
                 
        0AF0: TEMPORARY_VALUE_4 = get_int_from_ini_file "cleo\Wearable.ini" section 16@v key 26@v //bodypart id
        0AF4: 18@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 18@v  //model   
        0AF4: 28@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 28@v  //texture
        
        Player.SetClothes($PLAYER_CHAR, 28@v, 18@v, TEMPORARY_VALUE_4)
        Player.Build($PLAYER_CHAR)
        
        16@v = ""
        17@v = ""                                          
        18@v = "" 
        jump @ACCESSORIES_BUILD_MENU_SET  
    else
        if 0039:   SELECTED_MENU_ITEM == 8
        then
            08DA: remove_panel CURRENT_MENU
            000E: TEMPORARY_VALUE_2 -= 1
            jump @ACCESSORIES_LIST_BUILD  
        end
        if 0039:   SELECTED_MENU_ITEM == 9 
        then 
            08DA: remove_panel CURRENT_MENU
            000A: TEMPORARY_VALUE_2 += 1
            jump @ACCESSORIES_LIST_BUILD
        end
        if 0039:   SELECTED_MENU_ITEM == 10 
        then
            08DA: remove_panel CURRENT_MENU
                jump @ACCESSORIES_CATEGORIES_1    
        end
        if 0039:   SELECTED_MENU_ITEM == 11 
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @BC7MOD_START

:TATTOS_CATEGORIES_1
//Load textures
0390: load_txd_dictionary 'LD_TATT' 

08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'TACT' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'TAC1' 'TAC2' 'TAC3' 'TAC4' 'TAC5' 'TAC6' 'TAC7' 'TAC8' 'TAC9' 'TAC10' 'BBACK' 'BEXIT'

:TATTOS_CATEGORIES_1_SET
gosub @StandardMenu      
if 
    0039:   MENU_VISIBLE == 1
then                                                                    
    if and
        8019:   not  SELECTED_MENU_ITEM > 8 
        0029:   SELECTED_MENU_ITEM >= 0
    then
        0085: TEMPORARY_VALUE_1 = SELECTED_MENU_ITEM //group_id
        TEMPORARY_VALUE_2 = 0     
        jump @TATTOS_LIST_BUILD     
    else
        if 0039:   SELECTED_MENU_ITEM == 9
        then 
            08DA: remove_panel CURRENT_MENU    
            jump @remove_tattoo_menu
        end
        if 0039:   SELECTED_MENU_ITEM == 10
        then 
            08DA: remove_panel CURRENT_MENU    
            jump @Change_appearance_menu
        end
        if 0039:   SELECTED_MENU_ITEM == 11  
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @BC7MOD_START

:TATTOS_LIST_BUILD
gosub @REMOVE_DYNAMIC_GXT_STRINGS
//group id      

18@v = ""              
0AD3: 16@s = format "tg%d" TEMPORARY_VALUE_1  
0AF4: 18@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@s key "groupname" 
0006: TEMPORARY_VALUE_3 = TEMPORARY_VALUE_2      
0006: TEMPORARY_VALUE_3 = 0
 
0085: TEMPORARY_VALUE_4 = TEMPORARY_VALUE_2 // (int)     
0012: TEMPORARY_VALUE_4 *= 7 

if    
    0844:   string 18@v empty 
then 
    18@v = "" 
    08DA: remove_panel CURRENT_MENU
    jump @TATTOS_CATEGORIES_1
end
    16@v = ""
    17@v = ""
    18@v = ""

:TATTOS_BUILD_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'TACT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'DE0' 'DE1' 'DE2' 'DE3' 'DE4' 'DE5' 'DE6' 'DUMMY' 'BPRP' 'BNEP' 'BBACK' 'BEXIT'

//TODO
//hardcoded fix: there are no more than 6 tattos per category
08D9: set_panel CURRENT_MENU row 9 enable 0

if                                                
    0039:   TEMPORARY_VALUE_2 == 0 
then
    08D9: set_panel CURRENT_MENU row 8 enable 0    
    else
    08D9: set_panel CURRENT_MENU row 8 enable 1
end

repeat 
    16@v = ""
    17@v = ""                                          
    18@v = ""            
    0AD3: 16@v = format "tg%d" TEMPORARY_VALUE_1    
    0AD3: 18@v = format "name%d" TEMPORARY_VALUE_4             
    0AF4: 17@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 18@v     
    0AD3: 18@v = format "%s" 17@v    
    0AD3: 16@v = format "DE%d" TEMPORARY_VALUE_3
                                                                  
    if    
        0844:   string 18@v empty 
    then 
        0ADF: add_dynamic_GXT_entry 16@v text ""
        08D9: set_panel CURRENT_MENU row TEMPORARY_VALUE_3 enable 0
       // 08D9: set_panel CURRENT_MENU row 9 enable 0
    else
        0ADF: add_dynamic_GXT_entry 16@v text 18@v    
    end 

000A: TEMPORARY_VALUE_3 += 1        
000A: TEMPORARY_VALUE_4 += 1      
until 0039:   TEMPORARY_VALUE_3 == 7

16@v = ""  
17@v = ""
18@v = "" 

:TATTOS_BUILD_MENU_SET
   repeat
        wait  0 ms
        
        Player.CanMove($PLAYER_CHAR) = False
        if
            00E1:   player 0 pressed_key 15 //anuleren 
        then  
            gosub @RemoveMenu 
            03F0: enable_text_draw 0 
            jump @BC7MOD_START
        end    
        
         08D7: TEMPORARY_FLAG_1 = panel CURRENT_MENU active_row
           
                
        if and
        8019:   not  TEMPORARY_FLAG_1 > 6 
        0029:   TEMPORARY_FLAG_1 >= 0
        then
            if 803B:   not  TEMPORARY_FLAG_1 == SELECTED_MENU_ITEM // (int) 
            then
               wait 100
                0085: TEMPORARY_VALUE_4 = TEMPORARY_VALUE_2 // (int) 
                0012: TEMPORARY_VALUE_4 *= 7
                005A: TEMPORARY_VALUE_4 += TEMPORARY_FLAG_1
                0AD3: 16@v = format "tg%d" TEMPORARY_VALUE_1 
                0AD3: 28@v = format "tex%d" TEMPORARY_VALUE_4  
                0AF4: 28@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 28@v  //texture
                038F: load_texture 28@v as 1
                03E3: set_texture_to_be_drawn_antialiased 1 
                038E: draw_box_position 280.0 58.0 size 70.0 70.0 RGBA 0 0 0 255 
                03E3: set_texture_to_be_drawn_antialiased 1 
                038D: draw_texture 1 position 280.0 58.0 size 64.0 64.0 RGBA 255 255 255 200                    
            end
        else
          03F0: enable_text_draw 0 
        end
    08D7: SELECTED_MENU_ITEM = panel CURRENT_MENU active_row
    until 00E1:   player 0 pressed_key 16
    
    repeat
        wait 0
    until 80E1:   not player 0 pressed_key 16 
    08D7: SELECTED_MENU_ITEM = panel CURRENT_MENU active_row 
   
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
        8019:   not  SELECTED_MENU_ITEM > 6 
        0029:   SELECTED_MENU_ITEM >= 0
    then
        16@v = ""
        17@v = ""                                          
        18@v = "" 
        
        0085: TEMPORARY_VALUE_4 = TEMPORARY_VALUE_2 // (int) 
        0012: TEMPORARY_VALUE_4 *= 7
        005A: TEMPORARY_VALUE_4 += SELECTED_MENU_ITEM



        0AD3: 16@v = format "tg%d" TEMPORARY_VALUE_1     
        0AD3: 18@v = format "mod%d" TEMPORARY_VALUE_4            
        0AD3: 28@v = format "tex%d" TEMPORARY_VALUE_4  
        0AD3: 26@v = format "bod%d" TEMPORARY_VALUE_4    
        
        0ADF: add_dynamic_GXT_entry "DB1" text 16@v
        0ADF: add_dynamic_GXT_entry "DB2" text 18@v      
                 
        0AF0: TEMPORARY_VALUE_4 = get_int_from_ini_file "cleo\Wearable.ini" section 16@v key 26@v //bodypart id
        0AF4: 18@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 18@v  //model   
        0AF4: 28@v = read_string_from_ini_file "cleo\Wearable.ini" section 16@v key 28@v  //texture
        
         0AD0: show_formatted_text_lowpriority "Tattoo selected!" time 1500 

        
        Player.SetClothes($PLAYER_CHAR, 28@v, 18@v, TEMPORARY_VALUE_4)
        Player.Build($PLAYER_CHAR)
        
        16@v = ""
        17@v = ""                                          
        18@v = "" 
        jump @TATTOS_BUILD_MENU_SET  
    else
        if 0039:   SELECTED_MENU_ITEM == 8
        then
            08DA: remove_panel CURRENT_MENU
            000E: TEMPORARY_VALUE_2 -= 1
            jump @TATTOS_LIST_BUILD  
        end
        if 0039:   SELECTED_MENU_ITEM == 9 
        then 
            08DA: remove_panel CURRENT_MENU
            000A: TEMPORARY_VALUE_2 += 1
            jump @TATTOS_LIST_BUILD
        end
        if 0039:   SELECTED_MENU_ITEM == 10 
        then
            08DA: remove_panel CURRENT_MENU
                jump @TATTOS_CATEGORIES_1    
        end
        if 0039:   SELECTED_MENU_ITEM == 11 
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @BC7MOD_START

:remove_tattoo_menu
gosub @REMOVE_DYNAMIC_GXT_STRINGS
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'TAC10' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'TAC1' 'TAC2' 'TAC3' 'TAC4' 'TAC5' 'TAC6' 'TAC7' 'TAC8' 'TAC9' 'DUMMY' 'BBACK' 'BEXIT'

:Disable_no_tattoo
0006: TEMPORARY_VALUE_2 = 0
for TEMPORARY_VALUE_1 = 4 to 12
08F7: get_player $PLAYER_CHAR bodypart TEMPORARY_VALUE_1 textureCRC_to TEMPORARY_VALUE_3 modelCRC_to TEMPORARY_VALUE_4 
//  0AD0: show_formatted_text_lowpriority "Current bodypart: %d, Texture: %d, Model: %d" time 2500 TEMPORARY_VALUE_1 TEMPORARY_VALUE_3 TEMPORARY_VALUE_4
 // wait 1000  

    if
    0039:   TEMPORARY_VALUE_3 == 0 
    then
        08D9: set_panel CURRENT_MENU row TEMPORARY_VALUE_2 enable 0
    end
    000A: TEMPORARY_VALUE_2 += 1 
end

gosub @StandardMenu

:Remove_tattoo
if 
    0039:   MENU_VISIBLE == 1
then 
  if and
        8019:   not  SELECTED_MENU_ITEM > 8 
        0029:   SELECTED_MENU_ITEM >= 0
    then
            0085: TEMPORARY_VALUE_1 = SELECTED_MENU_ITEM // (int) 
            000A: TEMPORARY_VALUE_1 += 4    
            0784: set_player $PLAYER_CHAR textureCRC 0 modelCRC 0 bodypart TEMPORARY_VALUE_1 

              Player.Build($PLAYER_CHAR)     
    else
        if 0039:   SELECTED_MENU_ITEM == 10
        then 
            08DA: remove_panel CURRENT_MENU    
            jump @TATTOS_CATEGORIES_1
        end
        if 0039:   SELECTED_MENU_ITEM == 11   
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @Disable_no_tattoo
jump @BC7MOD_START    


:STATISTIC_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'EPST' position 29.0 145.0 width 120.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'EPS1' 'EPS2' 'EPS3' 'EPS4' 'EPS5' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
//08DB: set_panel CURRENT_MENU column 1 header 'DUMMY' data 'DE0' 'DE1' 'DE2' 'DE3' 'DE4' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
gosub @REMOVE_DYNAMIC_GXT_STRINGS

//set progress data
0653: TEMPORARY_VALUE_1 = float_stat 64
0092: TEMPORARY_VALUE_2 = float TEMPORARY_VALUE_1 to_integer 
0016: TEMPORARY_VALUE_2 /= 10 
08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'PVAL' number TEMPORARY_VALUE_2
0653: TEMPORARY_VALUE_1 = float_stat 22
0092: TEMPORARY_VALUE_2 = float TEMPORARY_VALUE_1 to_integer 
0016: TEMPORARY_VALUE_2 /= 10 
08EE: set_panel CURRENT_MENU column 1 row 1 text_1number GXT 'PVAL' number TEMPORARY_VALUE_2
0653: TEMPORARY_VALUE_1 = float_stat 23
0092: TEMPORARY_VALUE_2 = float TEMPORARY_VALUE_1 to_integer 
0016: TEMPORARY_VALUE_2 /= 10 
08EE: set_panel CURRENT_MENU column 1 row 2 text_1number GXT 'PVAL' number TEMPORARY_VALUE_2
0653: TEMPORARY_VALUE_1 = float_stat 21
0092: TEMPORARY_VALUE_2 = float TEMPORARY_VALUE_1 to_integer 
0016: TEMPORARY_VALUE_2 /= 10 
08EE: set_panel CURRENT_MENU column 1 row 3 text_1number GXT 'PVAL' number TEMPORARY_VALUE_2
0653: TEMPORARY_VALUE_1 = float_stat 25
0092: TEMPORARY_VALUE_2 = float TEMPORARY_VALUE_1 to_integer 
0016: TEMPORARY_VALUE_2 /= 10 
08EE: set_panel CURRENT_MENU column 1 row 4 text_1number GXT 'PVAL' number TEMPORARY_VALUE_2

:STATISTICS_MENU_SET
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0 
    then
        0006: TEMPORARY_FLAG_1 = 0x01   
    end    
     if 0039:   SELECTED_MENU_ITEM == 1 
    then
        0006: TEMPORARY_FLAG_1 = 0x02   
    end
     if 0039:   SELECTED_MENU_ITEM == 2 
    then
        0006: TEMPORARY_FLAG_1 = 0x03   
    end
     if 0039:   SELECTED_MENU_ITEM == 3 
    then
        0006: TEMPORARY_FLAG_1 = 0x04   
    end
     if 0039:   SELECTED_MENU_ITEM == 4 
    then
        0006: TEMPORARY_FLAG_1 = 0x05   
    end
     if 0039:   SELECTED_MENU_ITEM == 6 
    then
        08DA: remove_panel CURRENT_MENU
        jump @PLAYER_MENU
    end
     if 0039:   SELECTED_MENU_ITEM == 7
    then
        gosub @RemoveMenu
        jump @BC7MOD_START
    end
    jump @STAT_ITEM_MENU
end
jump @BC7MOD_START    

:STAT_ITEM_MENU
08DA: remove_panel CURRENT_MENU
if 0039:   TEMPORARY_FLAG_1 == 0x01 
then
    08D4: CURRENT_MENU = create_panel_with_title 'EPS1' position 29.0 145.0 width 175.0 columns 2 interactive 1 background 1 alignment 1
end
if 0039:   TEMPORARY_FLAG_1 == 0x02 
then
    08D4: CURRENT_MENU = create_panel_with_title 'EPS2' position 29.0 145.0 width 175.0 columns 2 interactive 1 background 1 alignment 1
end
if 0039:   TEMPORARY_FLAG_1 == 0x03 
then
    08D4: CURRENT_MENU = create_panel_with_title 'EPS3' position 29.0 145.0 width 175.0 columns 2 interactive 1 background 1 alignment 1
end
if 0039:   TEMPORARY_FLAG_1 == 0x04 
then
    08D4: CURRENT_MENU = create_panel_with_title 'EPS4' position 29.0 145.0 width 175.0 columns 2 interactive 1 background 1 alignment 1
end
if 0039:   TEMPORARY_FLAG_1 == 0x05 
then
    08D4: CURRENT_MENU = create_panel_with_title 'EPS5' position 29.0 145.0 width 175.0 columns 2 interactive 1 background 1 alignment 1
end

08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'DUMMY' 'DUMMY' 'GM2' 'GM3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 
08D9: set_panel CURRENT_MENU row 0 enable 0 

:STAT_ITEM_MENU_SET
if 0039:   TEMPORARY_FLAG_1 == 0x01 
then
    0006: TEMPORARY_VALUE_3 = 64
    gosub @SET_STATS_VALUE
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'RSMV' number TEMPORARY_VALUE_2     
end
if 0039:   TEMPORARY_FLAG_1 == 0x02 
then
     0006: TEMPORARY_VALUE_3 = 22
     gosub @SET_STATS_VALUE
     08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'SMMV' number TEMPORARY_VALUE_2 
end
if 0039:   TEMPORARY_FLAG_1 == 0x03 
then
   0006: TEMPORARY_VALUE_3 = 23
   gosub @SET_STATS_VALUE
   08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'MUMV' number TEMPORARY_VALUE_2    
end
if 0039:   TEMPORARY_FLAG_1 == 0x04 
then
    0006: TEMPORARY_VALUE_3 = 21
    gosub @SET_STATS_VALUE
     08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'FATV' number TEMPORARY_VALUE_2  
end
if 0039:   TEMPORARY_FLAG_1 == 0x05 
then
    0006: TEMPORARY_VALUE_3 = 25
    gosub @SET_STATS_VALUE
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'SEXV' number TEMPORARY_VALUE_2   
end

if 0019:   TEMPORARY_VALUE_2 > 99 
then
08D9: set_panel CURRENT_MENU row 2 enable 0
else
08D9: set_panel CURRENT_MENU row 2 enable 1
end
if 0029:   TEMPORARY_VALUE_2 >= 1 
then
08D9: set_panel CURRENT_MENU row 3 enable 1
else
08D9: set_panel CURRENT_MENU row 3 enable 0
end

gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
        0624: add 10.0 to_float_stat TEMPORARY_VALUE_3
        jump @STAT_ITEM_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
        0626: decrease_float_stat TEMPORARY_VALUE_3 by 10.0 
        jump @STAT_ITEM_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
        jump @STATISTIC_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 6 
    then
          gosub @RemoveMenu
            jump @BC7MOD_START 
    end
    
    jump @STAT_ITEM_MENU_SET
end
jump @BC7MOD_START

:SET_STATS_VALUE
0653: TEMPORARY_VALUE_1 = float_stat TEMPORARY_VALUE_3
0092: TEMPORARY_VALUE_2 = float TEMPORARY_VALUE_1 to_integer 
0016: TEMPORARY_VALUE_2 /= 10
return
                                                                 



//GAME MENU -> TIME MENU
:TIME_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BTIT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BTI0' 'BTI1' 'BTI2' 'BTI3' 'DUMMY' 'BBACK'  'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
08D9: set_panel CURRENT_MENU row 0 enable 0

:TIME_SET
00BF: TEMPORARY_VALUE_1 = current_time_hours, TEMPORARY_VALUE_2 = current_time_minutes 
08EF: set_panel CURRENT_MENU column 0 row 0 text_2numbers GXT 'BTI0' numbers TEMPORARY_VALUE_1 TEMPORARY_VALUE_2  // ~1~:0~1~
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
          if 0039:   TEMPORARY_VALUE_1 == 23 
          then
          TEMPORARY_VALUE_1 = 0
          00C0: set_current_time_hours_to TEMPORARY_VALUE_1 minutes_to TEMPORARY_VALUE_2
          else
            TEMPORARY_VALUE_1 += 1
            00C0: set_current_time_hours_to TEMPORARY_VALUE_1 minutes_to TEMPORARY_VALUE_2
          end 
                                            
      jump @TIME_SET
    end
    
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
         if 0029:   TEMPORARY_VALUE_1 >= 12 
         then
          TEMPORARY_VALUE_1 -= 12 
          00C0: set_current_time_hours_to TEMPORARY_VALUE_1 minutes_to TEMPORARY_VALUE_2
         else
           TEMPORARY_VALUE_1 += 12 
           00C0: set_current_time_hours_to TEMPORARY_VALUE_1 minutes_to TEMPORARY_VALUE_2
         end
         jump @TIME_SET
   end

    if 0039:   SELECTED_MENU_ITEM == 3  
    then
        if 0039:   TEMPORARY_VALUE_1 == 0
          then
          TEMPORARY_VALUE_1 = 23
          00C0: set_current_time_hours_to TEMPORARY_VALUE_1 minutes_to TEMPORARY_VALUE_2
          else
            TEMPORARY_VALUE_1 -= 1
            00C0: set_current_time_hours_to TEMPORARY_VALUE_1 minutes_to TEMPORARY_VALUE_2
          end 
        jump @TIME_SET
    end
    
    if 0039:   SELECTED_MENU_ITEM == 5
    then
    08DA: remove_panel CURRENT_MENU 
    jump  @GAME_MENU 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 6 
    then
     gosub @RemoveMenu
    end
    
end
jump @BC7MOD_MAINMENU

:GameSpeed
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BGST' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BGS1' 'BGS2' 'BGS3' 'BGS4' 'DUMMY' 'BBACK'  'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
08D9: set_panel CURRENT_MENU row 0 enable 0

:SET_SPEED      
0087: TEMPORARY_VALUE_2 = GAME_SPEED
TEMPORARY_VALUE_2 *= 100.0
0092: TEMPORARY_VALUE_1 = float TEMPORARY_VALUE_2 to_integer 
08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'BGS1' number TEMPORARY_VALUE_1
gosub @StandardMenu


if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
    if 8019:   not  GAME_SPEED > 4.9
    then                        
      GAME_SPEED += 0.1
    end
    jump @SET_SPEED
    end
    
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
       if 0019:   GAME_SPEED > 0.1
        then
        GAME_SPEED -= 0.1
        end      
        jump @SET_SPEED
    end
    
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        GAME_SPEED = 1.0
       jump @SET_SPEED
    end
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
       08DA: remove_panel CURRENT_MENU 
        jump  @GAME_MENU 
    end
    if 0039:   SELECTED_MENU_ITEM == 6 
    then
         gosub @RemoveMenu
    end
end
jump @BC7MOD_MAINMENU     

:WEATHER1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BWCT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BWC1' 'BWC2' 'BWC3' 'BWC4' 'BWC5' 'BWC6'  'BWC7' 'BWC8' 'DUMMY' 'BBACK' 'BNEP'  'BEXIT'

:SET_WHEATER_1
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
         
     if 0039:   SELECTED_MENU_ITEM == 9 
    then
        jump  @GAME_MENU
     end
       
      if 0039:   SELECTED_MENU_ITEM == 10                
    then
        jump   @WEATHER2
     end
     
      if 0039:   SELECTED_MENU_ITEM == 11 
    then
     gosub @RemoveMenu
     end

    set_weather SELECTED_MENU_ITEM                 
    jump @SET_WHEATER_1
end
jump @BC7MOD_MAINMENU  


:WEATHER2
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BWCT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BWC9' 'BWC10' 'BWC11' 'BWC12' 'BWC13' 'BWC14'  'BWC15' 'BWC16' 'DUMMY' 'BPRP' 'BNEP'  'BEXIT'

:SET_WHEATER_2
gosub @StandardMenu


if 0039:   MENU_VISIBLE == 1
then
         
     if 0039:   SELECTED_MENU_ITEM == 9 
    then
        jump  @WEATHER1
     end
       
      if 0039:   SELECTED_MENU_ITEM == 10                
    then
        jump   @WEATHER3
     end
     
      if 0039:   SELECTED_MENU_ITEM == 11 
    then
     gosub @RemoveMenu
     end

    set_weather SELECTED_MENU_ITEM + 8
    jump @SET_WHEATER_2                 
end
jump @BC7MOD_MAINMENU


:WEATHER3
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BWCT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BWC17' 'BWC18' 'BWC19' 'BWC20' 'BWC21' 'BWC22'  'BWC23' 'DUMMY' 'BPRP' 'BEXIT' 'DUMMY'  'DUMMY'

:SET_WHEATER_3                                                                                                      
gosub @StandardMenu


if 0039:   MENU_VISIBLE == 1
then
         
     if 0039:   SELECTED_MENU_ITEM == 8
    then
        jump  @WEATHER2
     end
      if 0039:   SELECTED_MENU_ITEM == 9
    then
     gosub @RemoveMenu
     end
                                         
    set_weather SELECTED_MENU_ITEM + 16  
    jump @SET_WHEATER_3              
end
jump @BC7MOD_MAINMENU

:population
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'POPMT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'POPM1' 'POPM2' 'POPM3' 'DUMMY' 'BBACK' 'BEXIT'  'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'  'DUMMY'

:SET_POPULATION
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
         
    if 0039:   SELECTED_MENU_ITEM == 0 
    then
        01EB: set_traffic_density_multiplier_to 0.0  
        03C7: set_sensitivity_to_crime 0.0 
        03DE: set_pedestrians_density_multiplier_to 0.0 
        06D7: enable_train_traffic 0 
        0923: enable_air_traffic 0 
        06D0: enable_emergency_traffic 0
        08EE: set_panel CURRENT_MENU column 1 row SELECTED_MENU_ITEM text_1number GXT 'MOSEL' number 0
        08EE: set_panel CURRENT_MENU column 1 row 1 text_1number GXT '' number 0
        08EE: set_panel CURRENT_MENU column 1 row 2 text_1number GXT '' number 0 
        jump @SET_POPULATION
     end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
        01EB: set_traffic_density_multiplier_to 5.0 
        03AD: NOP 0 
        03C7: set_sensitivity_to_crime 5.0 
        03DE: set_pedestrians_density_multiplier_to 5.0 
        06D7: enable_train_traffic 1 
        0923: enable_air_traffic 1 
        06D0: enable_emergency_traffic 1
        08EE: set_panel CURRENT_MENU column 1 row SELECTED_MENU_ITEM text_1number GXT 'MOSEL' number 0
        08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT '' number 0
        08EE: set_panel CURRENT_MENU column 1 row 2 text_1number GXT '' number 0 
        jump @SET_POPULATION
     end
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
        01EB: set_traffic_density_multiplier_to 1.0 
        03AD: NOP 0 
        03C7: set_sensitivity_to_crime 1.0 
        03DE: set_pedestrians_density_multiplier_to 1.0 
        06D7: enable_train_traffic 1 
        0923: enable_air_traffic 1 
        06D0: enable_emergency_traffic 1 
        08EE: set_panel CURRENT_MENU column 1 row SELECTED_MENU_ITEM text_1number GXT 'MOSEL' number 0
        08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT '' number 0
        08EE: set_panel CURRENT_MENU column 1 row 1 text_1number GXT '' number 0 
        jump @SET_POPULATION
     end
       
      if 0039:   SELECTED_MENU_ITEM == 4                
    then
        jump   @GAME_MENU
     end
     
      if 0039:   SELECTED_MENU_ITEM == 5
    then
     gosub @RemoveMenu
     end               
end
jump @BC7MOD_MAINMENU  


//TODO: Cleanup
//      Remove unnecessary code
:gravity
 //GAME MENU -> Gravity MENU
:GRAVITY_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GTIT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'GM0' 'DUMMY' 'GM2' 'GM3' 'GM4' 'GM5' 'GM6' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY'
08D9: set_panel CURRENT_MENU row 0 enable 0

:GRAVITY_SET
//Default Gravity: 0.00960000045597553 
//Calculate gravity level
0A8D: GRAVITY_LEVEL = read_memory 8796548 size 4 virtual_protect 1
0085: GENERAL_VALUE_HOLDER = GRAVITY_LEVEL
0007: GENERAL_STEP_VALUE = 0.004800000227987765

0017: GRAVITY_LEVEL /= 0.00960000045597553 
0013: GRAVITY_LEVEL *= 100.0
0092: GRAVITY_LEVEL = float GRAVITY_LEVEL to_integer 


//if 
//0039:   GRAVITY_LEVEL == 100 
//then
//    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'GM1' number 0
//    else
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'GRL' number GRAVITY_LEVEL
//end

//gosub @StandardMenu
gosub @ValueMenu
if 0039:   MENU_VISIBLE == 1
then                
    if 0039:   SELECTED_MENU_ITEM == 2 
    then  
        if  8019:   not  GRAVITY_LEVEL > 9999
        then   
          //  000A: GRAVITY_LEVEL += 1
            //0A8D: TEMPORARY_VALUE_1 = read_memory 8796548 size 4 virtual_protect 1
            GENERAL_VALUE_HOLDER += 0.004800000227987765
        end                      
    end
    
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
        if 0019:   GRAVITY_LEVEL > -9999
        then             
          //  000E: GRAVITY_LEVEL -= 1 
           // 0A8D: TEMPORARY_VALUE_1 = read_memory 8796548 size 4 virtual_protect 1
            GENERAL_VALUE_HOLDER -= 0.004800000227987765 
        end  
    end

    if 0039:   SELECTED_MENU_ITEM == 4
    then
       // GRAVITY_LEVEL = 1500
        GENERAL_VALUE_HOLDER = 12.0
    end

    if 0039:   SELECTED_MENU_ITEM == 5 
    then
       // GRAVITY_LEVEL = 0
        GENERAL_VALUE_HOLDER = 0.0
    end
    
    if 0039:   SELECTED_MENU_ITEM == 6 
    then             
       // GRAVITY_LEVEL = 10
        GENERAL_VALUE_HOLDER = 0.00960000045597553
    end
    
    if 0039:   SELECTED_MENU_ITEM == 8
    then
    08DA: remove_panel CURRENT_MENU 
    jump  @GAME_MENU 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 9 
    then
        gosub @RemoveMenu
        jump @BC7MOD_MAINMENU
    end
    
    0A8C: write_memory 8796548 size 4 value GENERAL_VALUE_HOLDER virtual_protect 1  
    jump @GRAVITY_SET 
end  
jump @BC7MOD_MAINMENU

:MISSION_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMMT' position 29.0 145.0 width 205.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'MMM1' 'MMM2' 'MMM3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

if
    $ONMISSION == 1
then
    08D9: set_panel CURRENT_MENU row 1 enable 0
    08D9: set_panel CURRENT_MENU row 2 enable 0
    else
    08D9: set_panel CURRENT_MENU row 1 enable 1
    08D9: set_panel CURRENT_MENU row 2 enable 1
end


:MISSIONMEN_SET
if
    MISSION_TIMER == 1
then
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'MMTS1' number 0
else
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'MMTS2' number 0
end 

gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0 
    then  
        if 
            MISSION_TIMER == 1
        then
            MISSION_TIMER = 0
        else
            MISSION_TIMER = 1
        end 
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
        08DA: remove_panel CURRENT_MENU  
        jump @MISSION_SELECT_MENU_1 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        jump @SUBMISSION_MENU_1 
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        08DA: remove_panel CURRENT_MENU
        jump @MAIN_START
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        gosub @removeMenu
        jump @BC7MOD_START
    end
jump @MISSIONMEN_SET
end
jump @BC7MOD_MAINMENU


:MISSION_SELECT_MENU_1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS1' 'CMS2' 'CMS3' 'CMS4' 'CMS5' 'CMS6' 'CMS7' 'CMS8' 'CMS9' 'DUMMY' 'BBACK' 'BNEP'
TEMPORARY_VALUE_3 = 0
TEMPORARY_VALUE_2 = 0
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_2
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
    jump @MISSION_MENU
end 
gosub @RemoveMenu
jump @BC7MOD_START
 
:MISSION_SELECT_MENU_2 
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS10' 'CMS11' 'CMS12' 'CMS13' 'CMS14' 'CMS15' 'CMS16' 'CMS17' 'CMS18' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 1
TEMPORARY_VALUE_2 = 1
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_3
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_1
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_3
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS19' 'CMS20' 'CMS21' 'CMS22' 'CMS23' 'CMS24' 'CMS25' 'CMS26' 'CMS27' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 2
TEMPORARY_VALUE_2 = 2
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_4
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_2
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_4
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS28' 'CMS29' 'CMS30' 'CMS31' 'CMS32' 'CMS33' 'CMS34' 'CMS35' 'CMS36' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 3
TEMPORARY_VALUE_2 = 3
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_5
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_3
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_5
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS37' 'CMS38' 'CMS39' 'CMS40' 'CMS41' 'CMS42' 'CMS43' 'CMS44' 'CMS45' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 4
TEMPORARY_VALUE_2 = 4
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_6
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_4
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_6
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS46' 'CMS47' 'CMS48' 'CMS49' 'CMS50' 'CMS51' 'CMS52' 'CMS53' 'CMS54' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 5
TEMPORARY_VALUE_2 = 5
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_7
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_5
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_7
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS55' 'CMS56' 'CMS57' 'CMS58' 'CMS59' 'CMS60' 'CMS61' 'CMS62' 'CMS63' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 6
TEMPORARY_VALUE_2 = 6
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_8
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_6
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_8
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS64' 'CMS65' 'CMS66' 'CMS67' 'CMS68' 'CMS69' 'CMS70' 'CMS71' 'CMS72' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 7
TEMPORARY_VALUE_2 = 7
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_9
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_7
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_9
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS73' 'CMS74' 'CMS75' 'CMS76' 'CMS77' 'CMS78' 'CMS79' 'CMS80' 'CMS81' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 8
TEMPORARY_VALUE_2 = 8
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_10
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_8
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_10
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS82' 'CMS83' 'CMS84' 'CMS85' 'CMS86' 'CMS87' 'CMS88' 'CMS89' 'CMS90' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 9
TEMPORARY_VALUE_2 = 9
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_11
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_9
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_11
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS91' 'CMS92' 'CMS93' 'CMS94' 'CMS95' 'CMS96' 'CMS97' 'CMS98' 'CMS99' 'DUMMY' 'BPRP' 'BNEP'
TEMPORARY_VALUE_3 = 10
TEMPORARY_VALUE_2 = 10
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_3 > TEMPORARY_VALUE_2
then
    jump @MISSION_SELECT_MENU_12
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_10
end 
gosub @RemoveMenu
jump @BC7MOD_START

:MISSION_SELECT_MENU_12
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'MMM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CMS100' 'CMS101' 'CMS102' 'DUMMY' 'BPRP' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
TEMPORARY_VALUE_3 = 11
TEMPORARY_VALUE_2 = 11
gosub @MISSION_SELECT_MENU_SELECT

if  or
    TEMPORARY_VALUE_3 == -2
    TEMPORARY_VALUE_3 == -99
then
    jump @BC7MOD_START
end 
if 001D:   TEMPORARY_VALUE_2 > TEMPORARY_VALUE_3
then
     jump @MISSION_SELECT_MENU_11
end 
gosub @RemoveMenu
jump @BC7MOD_START



:MISSION_SELECT_MENU_SELECT 
if 
    0039:   MENU_VISIBLE == 1
then  
    gosub @StandardMenu       
    if 
        TEMPORARY_VALUE_3 == 11 //last menu
    then
        if 0039:   SELECTED_MENU_ITEM == 4 
        then
            000E: TEMPORARY_VALUE_3 -= 1
            return 
        end
        if 0039:   SELECTED_MENU_ITEM == 5 
        then
            gosub @RemoveMenu
            0006: TEMPORARY_VALUE_3 = -2 
            return  
        end
    else
        if 0039:   SELECTED_MENU_ITEM == 10 //previous
        then
            000E: TEMPORARY_VALUE_3 -= 1 
            return
        end
        if 0039:   SELECTED_MENU_ITEM == 11 //next
        then
            000A: TEMPORARY_VALUE_3 += 1  
            return  
        end
        if 0039:   SELECTED_MENU_ITEM == 12 //exit
        then
             gosub @RemoveMenu
             0006: TEMPORARY_VALUE_3 = -2 
             return  
        end 
    end
    
    if  
        0039:   MENU_VISIBLE == 0 
    then
        jump @MISSION_MENU
    end
    
    gosub @MISSION_SELECT_START_MISSION
    0006: TEMPORARY_VALUE_3 = -99    
    
end
return


:MISSION_SELECT_START_MISSION
wait 0 
    if 0039:   MENU_VISIBLE == 1
    then
        0085: TEMPORARY_VALUE_1 = TEMPORARY_VALUE_3
        0012: TEMPORARY_VALUE_2 *= 8
        005A: TEMPORARY_VALUE_1 += SELECTED_MENU_ITEM
        000A: TEMPORARY_VALUE_1 += 11 
        005A: TEMPORARY_VALUE_1 += TEMPORARY_VALUE_2
        0085: TEMPORARY_VALUE_2 = TEMPORARY_VALUE_3
        gosub @RemoveMenu
        wait 0 
        fade 0 750 
        wait 750 
        0417: start_mission TEMPORARY_VALUE_1        
    end
return
                            
:SUBMISSION_MENU_1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VEHT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CSMS1' 'CSMS2' 'CSMS3' 'CSMS4' 'CSMS5' 'CSMS6' 'CSMS7' 'CSMS8' 'DUMMY' 'BBACK' 'BNEP' 'BEXIT'

:SUBMISSION_1_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
         0417: start_mission 3    
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
         0417: start_mission 4    
    end
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
         0417: start_mission 5    
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
         0417: start_mission 6    
    end
    if 0039:   SELECTED_MENU_ITEM == 4 
    then
         0417: start_mission 7    
    end
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
         0417: start_mission 9    
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
         0417: start_mission 10   
    end
    if 0039:   SELECTED_MENU_ITEM == 7 
    then
         0417: start_mission 128   
    end
    if 0039:   SELECTED_MENU_ITEM == 9 
    then
        jump @MISSION_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 10 
    then
        jump @SUBMISSION_MENU_2 
    end
gosub @RemoveMenu   
end
jump @BC7MOD_START


:SUBMISSION_MENU_2
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VEHT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'CSMS9' 'CSMS10' 'CSMS11' 'CSMS12' 'DUMMY' 'BPREV' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:SUBMISSION_2_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
         0417: start_mission 129    
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
         0417: start_mission 130    
    end
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
         0417: start_mission 131   
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
         0417: start_mission 132    
    end
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
         jump @SUBMISSION_MENU_1 
    end
gosub @RemoveMenu   
end
jump @BC7MOD_START


:MISCELLANEOUS_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'TOMT' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'TOM1' 'TOM2' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:MISCELLANEOUS_SET
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        jump @TELEPORTATION_MENU          
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        jump @WANTED_LEVEL_MENU     
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        08DA: remove_panel CURRENT_MENU 
        jump  @MAIN_START        
    end
     if 0039:   SELECTED_MENU_ITEM == 4
    then
       gosub @RemoveMenu        
    end
    
end
jump @BC7MOD_MAINMENU


:WANTED_LEVEL_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'WALMT' position 29.0 145.0 width 175.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'WALMS' 'DUMMY' 'WALM1' 'WALM2' 'DUMMY' 'WALM3' 'WALM4' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 
08D9: set_panel CURRENT_MENU row 0 enable 0 

:WANTED_LEVEL_MENU_SET  
050F: get_max_wanted_level_to TEMPORARY_VALUE_1
01C0: TEMPORARY_VALUE_2 = player $PLAYER_CHAR wanted_level 
08EF: set_panel CURRENT_MENU column 1 row 0 text_2numbers GXT 'WALMC' numbers TEMPORARY_VALUE_2 TEMPORARY_VALUE_1 // ~1~/~1~


if
    0039:    NEVER_WANTED_LEVEL == 0x1 
then
    08EE: set_panel CURRENT_MENU column 1 row 6 text_1number GXT 'BENAB' number 0
else
    08EE: set_panel CURRENT_MENU column 1 row 6 text_1number GXT 'BDISA' number 0
end


if
    TEMPORARY_VALUE_2 == 0
then
    08D9: set_panel CURRENT_MENU row 3 enable 0
    else
    08D9: set_panel CURRENT_MENU row 3 enable 1
end

if
    003B:   TEMPORARY_VALUE_2 == TEMPORARY_VALUE_1
then
    08D9: set_panel CURRENT_MENU row 2 enable 0
    else
    08D9: set_panel CURRENT_MENU row 2 enable 1
end

000E: TEMPORARY_VALUE_1 -= 1 

gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        if
            810F:   not player $PLAYER_CHAR wanted_level > TEMPORARY_VALUE_1 
        then   
            000A: TEMPORARY_VALUE_2 += 1            
            010D: set_player $PLAYER_CHAR wanted_level_to TEMPORARY_VALUE_2 
        end         
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
         if
            010F:   player $PLAYER_CHAR wanted_level > 0
        then
            TEMPORARY_VALUE_2 -=1
            010D: set_player $PLAYER_CHAR wanted_level_to TEMPORARY_VALUE_2 
        end         
    end
   
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        0110: clear_player $PLAYER_CHAR wanted_level         
    end
    
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        if           
            0039:    NEVER_WANTED_LEVEL == 0x1 
         then
            NEVER_WANTED_LEVEL = 0x0
         else
            NEVER_WANTED_LEVEL = 0x1     
         end
    end
            
    if 0039:   SELECTED_MENU_ITEM == 8
    then
        08DA: remove_panel CURRENT_MENU 
        jump  @MISCELLANEOUS_MENU        
    end
     if 0039:   SELECTED_MENU_ITEM == 9
    then
       gosub @RemoveMenu        
    end
jump @WANTED_LEVEL_MENU_SET    
end
jump @BC7MOD_MAINMENU

:TELEPORTATION_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'TELMT' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'TELM1' 'TELM2' 'DUMMY' 'TELM3' 'TELM4' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'  

:TELEPORT_MENU_SET
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        gosub @RemoveMenu
        TEMPORARY_VALUE_4 = Actor.Angle($PLAYER_ACTOR)
        0AB6: store_target_marker_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3     
        fade 0 500 
        wait 500 
        01B4: set_player $PLAYER_CHAR can_move 0
        //04D7: set_actor $PLAYER_ACTOR locked 1
        select_interior 0 
        04FA: reset_interior 0 colors 
        057E: set_radar_grey 0 
        04E4: unknown_refresh_game_renderer_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 
        Camera.SetAtPos(TEMPORARY_VALUE_1, TEMPORARY_VALUE_2, TEMPORARY_VALUE_3)
        gosub @TELEPORT_DEFINED_CHECK
        0860: link_actor $PLAYER_ACTOR to_interior 0 
        00A1: put_actor $PLAYER_ACTOR at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 -100.0
        0173: set_actor $PLAYER_ACTOR Z_angle_to TEMPORARY_VALUE_4   
        gosub @TELEPORT_DEFINED_CHECK
        wait 1000
        0373: set_camera_directly_behind_player 
        02EB: restore_camera_with_jumpcut 
        01B4: set_player $PLAYER_CHAR can_move 1
        //04D7: set_actor $PLAYER_ACTOR locked 0
        fade 1 1000
        jump @BC7MOD_START 
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        08DA: remove_panel CURRENT_MENU
        jump @INTERIOR_TELEPORT_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        08DA: remove_panel CURRENT_MENU 
        TEMPORARY_VALUE_2 = 0xd0
        jump @SAVED_TELEPORT_MENU
    end      
    
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        08DA: remove_panel CURRENT_MENU  
        TEMPORARY_VALUE_2 = 0xd1
        jump @SAVED_TELEPORT_MENU
    end

    if 0039:   SELECTED_MENU_ITEM == 6
    then
        08DA: remove_panel CURRENT_MENU 
        jump @MISCELLANEOUS_MENU
    end
end
gosub @RemoveMenu
jump @BC7MOD_MAINMENU

:TELEPORT_DEFINED_CHECK
   if not Player.Defined($PLAYER_CHAR)
        then
            repeat
                wait 10
            until Player.Defined($PLAYER_CHAR)
        end
return

:SAVED_TELEPORT_MENU       
gosub @REMOVE_DYNAMIC_GXT_STRINGS 
TEMPORARY_VALUE_4  = 1
while 8039:   not  TEMPORARY_VALUE_4 == 10     
    16@s = ''
    18@v = ""              
    0AD3: 16@s = format "TPL%d" TEMPORARY_VALUE_4  
    0AF4: 18@v = read_string_from_ini_file "cleo\BC7MOD_config.ini" section 16@s key "name"    
    0AD3: 16@s = format "DE%d" TEMPORARY_VALUE_4
                                                                                  
    if    
        0844:   string 18@v empty 
    then 
        0ADF: add_dynamic_GXT_entry 16@s text "[Empty Slot]"  
    else
        0ADF: add_dynamic_GXT_entry 16@s text 18@v  
    end 
    
    000A: TEMPORARY_VALUE_4 += 1 
end

08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'TEMST' position 29.0 145.0 width 315.0 columns 1 interactive 1 background 1 alignment 1
if
    TEMPORARY_VALUE_2 == 0xd1
then
    08DB:  set_panel CURRENT_MENU column 0 header 'TEMSD' data 'DE1' 'DE2' 'DE3' 'DE4' 'DE5' 'DE6' 'DE7' 'DE8' 'DE9' 'DUMMY' 'BBACK' 'BEXIT'
else
    08DB:  set_panel CURRENT_MENU column 0 header 'TEMSB' data 'DE1' 'DE2' 'DE3' 'DE4' 'DE5' 'DE6' 'DE7' 'DE8' 'DE9' 'DUMMY' 'BBACK' 'BEXIT'   
end 

MENU_VISIBLE = 1

if
    TEMPORARY_VALUE_2 == 0xd1
then
    TEMPORARY_VALUE_4  = 1
    repeat
        16@s = ''
        18@v = ""    
        0AD3: 16@s = format "TPL%d" TEMPORARY_VALUE_4
        0AF4: 18@v = read_string_from_ini_file "cleo\BC7MOD_config.ini" section 16@s key "name"       
 
        if
            0847:   string 18@v empty       
        then
            000E: TEMPORARY_VALUE_4 -= 1 
            08D9: set_panel CURRENT_MENU row TEMPORARY_VALUE_4 enable 0    
            000A: TEMPORARY_VALUE_4 += 1       
        end
        000A: TEMPORARY_VALUE_4 += 1
    until 0019:   TEMPORARY_VALUE_4 > 9 
    
end


:SAVED_TELEPORT_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then          
    if 
        0039:   SELECTED_MENU_ITEM == 10
    then
        08DA: remove_panel CURRENT_MENU  
        jump @TELEPORTATION_MENU   
    end
     
    if 
        0039:   SELECTED_MENU_ITEM == 11
    then
        gosub @RemoveMenu   
        jump @BC7MOD_START
    end
    
    if and
        0029:   SELECTED_MENU_ITEM >= 0
        8019:   not  SELECTED_MENU_ITEM > 8
    then    
        16@s = ''
        18@v = ""   
        000A: SELECTED_MENU_ITEM += 1     
        0AD3: 16@s = format "TPL%d" SELECTED_MENU_ITEM   
        0AF4: 18@v = read_string_from_ini_file "cleo\BC7MOD_config.ini" section 16@s key "name" 
        
            
        if
            TEMPORARY_VALUE_2 == 0xd1
        then
            18@v = ""
            0085: TEMPORARY_VALUE_1 = SELECTED_MENU_ITEM 
            08DA: remove_panel CURRENT_MENU
            jump @TP_DELETE_CONFIRM     
        else
            TEMPORARY_VALUE_1 = 0
            TEMPORARY_VALUE_2 = 0
            TEMPORARY_VALUE_3 = 0      
     
            if
                0847:   string 18@v empty       
            then           
                0085: TEMPORARY_VALUE_1 = SELECTED_MENU_ITEM 
                gosub @RemoveMenu  
                jump @INPUT_FORM_TELEPORT
            else    
                18@v = ""
                gosub @RemoveMenu               
                0AF2: TEMPORARY_VALUE_1 = get_float_from_ini_file "cleo\BC7MOD_config.ini" section 16@s key "position_x"
                0AF2: TEMPORARY_VALUE_2 = get_float_from_ini_file "cleo\BC7MOD_config.ini" section 16@s key "position_y"
                0AF2: TEMPORARY_VALUE_3 = get_float_from_ini_file "cleo\BC7MOD_config.ini" section 16@s key "position_z"
                0AF2: TEMPORARY_VALUE_4 = get_float_from_ini_file "cleo\BC7MOD_config.ini" section 16@s key "angle"
                      
                0169: set_fade_color_RGB 0 0 0 
                fade 0 500 
                wait 500 
               01B4: set_player $PLAYER_CHAR can_move 0
                04D7: set_actor $PLAYER_ACTOR locked 1
                select_interior 0 
                04FA: reset_interior 0 colors 
                057E: set_radar_grey 0 
                04E4: unknown_refresh_game_renderer_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 
                0860: link_actor $PLAYER_ACTOR to_interior 0 
                00A1: put_actor $PLAYER_ACTOR at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3
                0173: set_actor $PLAYER_ACTOR Z_angle_to TEMPORARY_VALUE_4
                
                0373: set_camera_directly_behind_player 
                02EB: restore_camera_with_jumpcut 
                01B4: set_player $PLAYER_CHAR can_move 1
                04D7: set_actor $PLAYER_ACTOR locked 0
                fade 1 500 
                wait 500   
                jump @BC7MOD_MAINMENU 
            end   
        end     
    end     
end  
gosub @RemoveMenu 
jump @BC7MOD_MAINMENU   

:TP_DELETE_CONFIRM
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'TODCT' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
08DB: set_panel CURRENT_MENU column 0 header 'TODCQ' data 'CDAN' 'CDAY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:TP_DELETE_CONFIRM_SET
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 1
    then
            0AD3: string 16@v format "TPL%d" TEMPORARY_VALUE_1 
            0AF5: write_string "" to_ini_file "cleo\BC7MOD_config.ini" section 16@v key "name"
            0AF3: write_float 0.0 to_ini_file "cleo\BC7MOD_config.ini" section 16@v key "position_x"
            0AF3: write_float 0.0 to_ini_file "cleo\BC7MOD_config.ini" section 16@v key "position_y"
            0AF3: write_float 0.0 to_ini_file "cleo\BC7MOD_config.ini" section 16@v key "position_z"
            0AF3: write_float 0.0 to_ini_file "cleo\BC7MOD_config.ini" section 16@v key "angle"  
    end
end
jump @SAVED_TELEPORT_MENU

:INTERIOR_TELEPORT_MENU_1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'INTT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'INT1' 'INT2' 'INT3' 'INT4' 'INT5' 'INT6' 'INT7' 'INT8' 'DUMMY' 'BNEP' 'BBACK' 'BEXIT'
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        TEMPORARY_VALUE_1 = 2496.075  //X
        TEMPORARY_VALUE_2 = -1705.359  //Y
        TEMPORARY_VALUE_3 = 1014.742  //Z
        TEMPORARY_VALUE_4 = 357.975  //ANGLE
        TEMPORARY_INTEGER_1 = 3  //INTERIOR ID
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        TEMPORARY_VALUE_1 = -1398.461
        TEMPORARY_VALUE_2 = 995.641
        TEMPORARY_VALUE_3 = 1024.462
        TEMPORARY_INTEGER_1 = 15 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        TEMPORARY_VALUE_1 = -1473.187
        TEMPORARY_VALUE_2 = 1565.173
        TEMPORARY_VALUE_3 = 1051.589
        TEMPORARY_VALUE_4 = = 266.488
        TEMPORARY_INTEGER_1 = 14 
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        TEMPORARY_VALUE_1 = 2.38483
        TEMPORARY_VALUE_2 = 33.1034
        TEMPORARY_VALUE_3 = 1199.85
        TEMPORARY_INTEGER_1 = 1
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        TEMPORARY_VALUE_1 = 286.149
        TEMPORARY_VALUE_2 = -40.6444
        TEMPORARY_VALUE_3 = 1001.57
        TEMPORARY_INTEGER_1 = 1 
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        TEMPORARY_VALUE_1 = 223.044
        TEMPORARY_VALUE_2 = 1289.26
        TEMPORARY_VALUE_3 = 1082.2
        TEMPORARY_INTEGER_1 = 1 
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        TEMPORARY_VALUE_1 = -2042.42
        TEMPORARY_VALUE_2 = 178.59
        TEMPORARY_VALUE_3 = 28.84
        TEMPORARY_INTEGER_1 = 1 
    end
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        TEMPORARY_VALUE_1 = 2535.83
        TEMPORARY_VALUE_2 = -1674.32
        TEMPORARY_VALUE_3 = 1015.5
        TEMPORARY_INTEGER_1 = 1 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 9
    then
        08DA: remove_panel CURRENT_MENU 
        jump @INTERIOR_TELEPORT_MENU_2 
    end
    if 0039:   SELECTED_MENU_ITEM == 10
    then
        08DA: remove_panel CURRENT_MENU 
        jump  @TELEPORTATION_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 11
    then
        gosub @RemoveMenu
        jump @BC7MOD_START 
    end
    
    gosub @RemoveMenu
    gosub @SetPlayerAtPositionInInterior
end
jump @BC7MOD_START


:INTERIOR_TELEPORT_MENU_2
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'INTT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'INT9' 'INT10' 'INT11' 'INT12' 'INT13' 'INT14' 'INT15' 'INT16' 'DUMMY' 'BNEP' 'BPRP' 'BEXIT'
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        TEMPORARY_VALUE_1 = 681.66
        TEMPORARY_VALUE_2 = -453.32
        TEMPORARY_VALUE_3 = -25.61
        TEMPORARY_INTEGER_1 = 1 
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        TEMPORARY_VALUE_1 = -2158.72
        TEMPORARY_VALUE_2 = 641.29
        TEMPORARY_VALUE_3 = 1052.38
        TEMPORARY_INTEGER_1 = 1 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        TEMPORARY_INTEGER_1 = 1 
        TEMPORARY_VALUE_1 = -795.0761
        TEMPORARY_VALUE_2 = 489.9602
        TEMPORARY_VALUE_3 = 1376.195
        TEMPORARY_VALUE_4 = = 356.0692
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        TEMPORARY_INTEGER_1 = 2 
        TEMPORARY_VALUE_1 = 225.757
        TEMPORARY_VALUE_2 = 1240
        TEMPORARY_VALUE_3 = 1082.15
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        TEMPORARY_VALUE_1 = 2567.52
        TEMPORARY_VALUE_2 = -1294.59
        TEMPORARY_VALUE_3 = 1063.25
        TEMPORARY_INTEGER_1 = 2 
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        TEMPORARY_VALUE_1 = 2451.77
        TEMPORARY_VALUE_2 = -1699.8
        TEMPORARY_VALUE_3 = 1013.51
        TEMPORARY_VALUE_4 = = 266.488
        TEMPORARY_INTEGER_1 = 2 
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        TEMPORARY_VALUE_1 = 235.509
        TEMPORARY_VALUE_2 = 1189.17
        TEMPORARY_VALUE_3 = 1080.34
        TEMPORARY_INTEGER_1 = 3 
    end
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        TEMPORARY_VALUE_1 = -2637.69
        TEMPORARY_VALUE_2 = 1404.24
        TEMPORARY_VALUE_3 = 906.46
        TEMPORARY_INTEGER_1 = 3 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 9
    then
        08DA: remove_panel CURRENT_MENU 
        jump @INTERIOR_TELEPORT_MENU_3 
    end
    if 0039:   SELECTED_MENU_ITEM == 10
    then
        08DA: remove_panel CURRENT_MENU 
        jump @INTERIOR_TELEPORT_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 11
    then
        gosub @RemoveMenu
        jump @BC7MOD_START 
    end
    
    gosub @RemoveMenu
    gosub @SetPlayerAtPositionInInterior
end
jump @BC7MOD_START

:INTERIOR_TELEPORT_MENU_3
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'INTT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'INT17' 'INT18' 'INT19' 'INT20' 'INT21' 'INT22' 'INT23' 'INT24' 'DUMMY' 'BNEP' 'BPRP' 'BEXIT'
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        TEMPORARY_VALUE_1 = 286.801
        TEMPORARY_VALUE_2 = -82.5476
        TEMPORARY_VALUE_3 = 1001.54
        TEMPORARY_INTEGER_1 = 4 
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        TEMPORARY_VALUE_1 = 2338.32
        TEMPORARY_VALUE_2 = -1180.61
        TEMPORARY_VALUE_3 = 1027.98
        TEMPORARY_INTEGER_1 = 5 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        TEMPORARY_VALUE_1 = -2029.88
        TEMPORARY_VALUE_2 = -115.44
        TEMPORARY_VALUE_3 = 1035.17
        TEMPORARY_INTEGER_1 = 3 
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        TEMPORARY_INTEGER_1 = 5 
        TEMPORARY_VALUE_1 = 1299.352
        TEMPORARY_VALUE_2 = -792.6416
        TEMPORARY_VALUE_3 = 1083.008
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        TEMPORARY_VALUE_1 = 296.92
        TEMPORARY_VALUE_2 = -108.072
        TEMPORARY_VALUE_3 = 1001.57
        TEMPORARY_INTEGER_1 = 6 
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        TEMPORARY_VALUE_1 = 316.525
        TEMPORARY_VALUE_2 = -167.707
        TEMPORARY_VALUE_3 = 999.662
        TEMPORARY_INTEGER_1 = 6
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        TEMPORARY_VALUE_1 = -2238.036
        TEMPORARY_VALUE_2 = 128.5737
        TEMPORARY_VALUE_3 = 1035.414
        TEMPORARY_INTEGER_1 = 6   
    end
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        TEMPORARY_VALUE_1 = 314.821  
        TEMPORARY_VALUE_2 = -141.432
        TEMPORARY_VALUE_3 = 999.662
        TEMPORARY_INTEGER_1 = 7 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 9
    then
        08DA: remove_panel CURRENT_MENU 
        jump @INTERIOR_TELEPORT_MENU_4 
    end
    if 0039:   SELECTED_MENU_ITEM == 10
    then
        08DA: remove_panel CURRENT_MENU 
        jump @INTERIOR_TELEPORT_MENU_2
    end
    if 0039:   SELECTED_MENU_ITEM == 11
    then
        gosub @RemoveMenu
        jump @BC7MOD_START 
    end
    gosub @RemoveMenu
    gosub @SetPlayerAtPositionInInterior
end
jump @BC7MOD_START


:INTERIOR_TELEPORT_MENU_4
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'INTT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'INT25' 'INT26' 'INT27' 'INT28' 'INT29' 'INT30' 'INT31' 'INT32' 'DUMMY' 'BNEP' 'BPRP' 'BEXIT'
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        TEMPORARY_VALUE_1 = 302.2929
        TEMPORARY_VALUE_2 = -143.1391
        TEMPORARY_VALUE_3 = 1004.063
        TEMPORARY_INTEGER_1 = 7 
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        TEMPORARY_VALUE_1 = 280.7951
        TEMPORARY_VALUE_2 = -135.2034
        TEMPORARY_VALUE_3 = 1004.063
        TEMPORARY_INTEGER_1 = 7 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        TEMPORARY_VALUE_1 = 225.631
        TEMPORARY_VALUE_2 = 1022.48
        TEMPORARY_VALUE_3 = 1084.07
        TEMPORARY_INTEGER_1 = 7 
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        TEMPORARY_VALUE_1 = 2807.63
        TEMPORARY_VALUE_2 = -1170.15
        TEMPORARY_VALUE_3 = 1025.57
        TEMPORARY_INTEGER_1 = 8 
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        TEMPORARY_INTEGER_1 = 8 
        TEMPORARY_VALUE_1 = 2365.42
        TEMPORARY_VALUE_2 = -1131.85
        TEMPORARY_VALUE_3 = 1050.88
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        TEMPORARY_INTEGER_1 = 9 
        TEMPORARY_VALUE_1 = 315.8562
        TEMPORARY_VALUE_2 = 1024.496
        TEMPORARY_VALUE_3 = 1949.797 
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        TEMPORARY_VALUE_1 = 2251.85
        TEMPORARY_VALUE_2 = -1138.16
        TEMPORARY_VALUE_3 = 1050.63
        TEMPORARY_INTEGER_1 = 9 
    end
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        TEMPORARY_VALUE_1 = -1079.99
        TEMPORARY_VALUE_2 = 1061.58
        TEMPORARY_VALUE_3 = 1343.04
        TEMPORARY_INTEGER_1 = 10 
    end
    
    if 0039:   SELECTED_MENU_ITEM == 9
    then
        08DA: remove_panel CURRENT_MENU 
        jump @INTERIOR_TELEPORT_MENU_5 
    end
    if 0039:   SELECTED_MENU_ITEM == 10
    then
        08DA: remove_panel CURRENT_MENU 
        jump @INTERIOR_TELEPORT_MENU_3
    end
    if 0039:   SELECTED_MENU_ITEM == 11
    then
        gosub @RemoveMenu
        jump @BC7MOD_START 
    end
    gosub @RemoveMenu
    gosub @SetPlayerAtPositionInInterior
end
jump @BC7MOD_START

:INTERIOR_TELEPORT_MENU_5
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'INTT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'INT33' 'INT34' 'INT35' 'INT36' 'INT37' 'INT38' 'INT39' 'INT40' 'INT41' 'DUMMY' 'BPRP' 'BEXIT'
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        TEMPORARY_VALUE_1 = 2260.76
        TEMPORARY_VALUE_2 = -1210.45
        TEMPORARY_VALUE_3 = 1049.02
        TEMPORARY_INTEGER_1 = 10 
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        TEMPORARY_VALUE_1 = 2262.83
        TEMPORARY_VALUE_2 = -1137.71
        TEMPORARY_VALUE_3 = 1050.63
        TEMPORARY_INTEGER_1 = 10 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        TEMPORARY_VALUE_1 = 246.4
        TEMPORARY_VALUE_2 = 110.84
        TEMPORARY_VALUE_3 = 1003.22
        TEMPORARY_INTEGER_1 = 10 
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        TEMPORARY_VALUE_1 = 2324.33
        TEMPORARY_VALUE_2 = -1144.79
        TEMPORARY_VALUE_3 = 1050.71
        TEMPORARY_INTEGER_1 = 12  
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        TEMPORARY_VALUE_1 = 295.139
        TEMPORARY_VALUE_2 = 1474.47
        TEMPORARY_VALUE_3 = 1080.52
        TEMPORARY_INTEGER_1 = 15 
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        TEMPORARY_INTEGER_1 = 15 
        TEMPORARY_VALUE_1 = 328.494
        TEMPORARY_VALUE_2 = 1480.59
        TEMPORARY_VALUE_3 = 1084.45
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        TEMPORARY_INTEGER_1 = 15 
        TEMPORARY_VALUE_1 = 385.804
        TEMPORARY_VALUE_2 = 1471.77
        TEMPORARY_VALUE_3 = 1080.21
    end
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        TEMPORARY_VALUE_1 = 2220.26
        TEMPORARY_VALUE_2 = -1148.01
        TEMPORARY_VALUE_3 = 1025.8
        TEMPORARY_INTEGER_1 = 15 
    end
    if 0039:   SELECTED_MENU_ITEM == 8
    then
        TEMPORARY_VALUE_1 = -203.0764
        TEMPORARY_VALUE_2 = -24.1658
        TEMPORARY_VALUE_3 = 1002.273
        TEMPORARY_INTEGER_1 = 16
    end
    
    if 0039:   SELECTED_MENU_ITEM == 10
    then
        08DA: remove_panel CURRENT_MENU 
        jump @INTERIOR_TELEPORT_MENU_4
    end
    if 0039:   SELECTED_MENU_ITEM == 11
    then
        gosub @RemoveMenu
        jump @BC7MOD_START 
    end
    
    gosub @RemoveMenu
    gosub @SetPlayerAtPositionInInterior
end
jump @BC7MOD_START


:PEOPLE_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'PEDT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'PED1' 'PED2' 'PED3' 'PED4' 'DUMMY' 'PED5' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY'

01C2: remove_references_to_actor SELECTED_ENTITY
SELECTED_ENTITY = -1
00A0: store_actor $PLAYER_ACTOR position_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3
08E5: get_actor_in_sphere TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 radius 5.0 handle_as SELECTED_ENTITY
if 0039:    SELECTED_ENTITY == -1
then
    08D9: set_panel CURRENT_MENU row 0 enable 0
    08D9: set_panel CURRENT_MENU row 1 enable 0
    08D9: set_panel CURRENT_MENU row 2 enable 0
    08D9: set_panel CURRENT_MENU row 3 enable 0
else
    08D9: set_panel CURRENT_MENU row 0 enable 1
    08D9: set_panel CURRENT_MENU row 1 enable 1
    08D9: set_panel CURRENT_MENU row 2 enable 1
    08D9: set_panel CURRENT_MENU row 3 enable 1
end   
      
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
      0321: kill_actor SELECTED_ENTITY
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
      0223: set_actor SELECTED_ENTITY health_to 500 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
      048F: actor SELECTED_ENTITY remove_weapons 
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        if actor.Driving(SELECTED_ENTITY)
        then
            03C0: TEMPORARY_VALUE_4 = actor SELECTED_ENTITY car 
            07D5: set_car TEMPORARY_VALUE_4 velocity_in_direction_XYZ 0.0 0.0 10.0 rotation_velocitiesXY 0.0 0.0 unk 0.0 
        else
            083C: set_actor SELECTED_ENTITY velocity_in_direction_XYZ 0.0 0.0 50.0 
        end
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        08DA: remove_panel CURRENT_MENU 
        jump @GANG_MANAGE_MENU     
    end
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        08DA: remove_panel CURRENT_MENU
        SELECTED_MENU_ITEM = 4               
        jump @MAIN_START 
    end
end
gosub @removeMenu
jump @BC7MOD_START

:GANG_MANAGE_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'BGAMA' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'BGST' 'DUMMY' 'BGME' 'BGMA' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
08D9: set_panel CURRENT_MENU row 0 enable 0 

:GANG_MANAGE_MENU_SET
07F6: get_group $PLAYER_GROUP number_of_leaders_to TEMPORARY_VALUE_3 number_of_members_to TEMPORARY_VALUE_4
08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'BGST' number TEMPORARY_VALUE_4
if 0006: TEMPORARY_VALUE_4 = 7
then
    08D9: set_panel CURRENT_MENU row 3 enable 0 
else
    08D9: set_panel CURRENT_MENU row 3 enable 1
end 
if 0039:    SELECTED_ENTITY == -1
then
   08D9: set_panel CURRENT_MENU row 3 enable 0
else
   08D9: set_panel CURRENT_MENU row 3 enable 1    
end

gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        08DA: remove_panel CURRENT_MENU 
        jump @GANG_MEMBERS_MANAGE_MENU  
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        0631: put_actor SELECTED_ENTITY in_group $PLAYER_GROUP 
        SELECTED_ENTITY = -1
        00A0: store_actor $PLAYER_ACTOR position_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3
        08E5: get_actor_in_sphere TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 radius 5.0 handle_as SELECTED_ENTITY
        jump @GANG_MANAGE_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        08DA: remove_panel CURRENT_MENU 
        jump @PEOPLE_MENU   
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        gosub @removeMenu
        jump @BC7MOD_START  
    end    
end
gosub @removeMenu
jump @BC7MOD_START

:GANG_MEMBERS_MANAGE_MENU
gosub @REMOVE_DYNAMIC_GXT_STRINGS
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GMMT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'GMM1' 'GMM1' 'GMM1' 'GMM1' 'GMM1' 'GMM1' 'GMM1' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY'

07F6: get_group $PLAYER_GROUP number_of_leaders_to TEMPORARY_VALUE_3 number_of_members_to TEMPORARY_VALUE_4

TEMPORARY_INTEGER_1 = 0
TEMPORARY_VALUE_1 = 1
while 8019:   not  TEMPORARY_INTEGER_1 > 6 
    08EE: set_panel CURRENT_MENU column 0 row TEMPORARY_INTEGER_1 text_1number GXT 'GMM1' number TEMPORARY_VALUE_1
    
    if 
    001D:   TEMPORARY_VALUE_1 > TEMPORARY_VALUE_4
    then
        08D9: set_panel CURRENT_MENU row TEMPORARY_INTEGER_1 enable 0 
    else
        08D9: set_panel CURRENT_MENU row TEMPORARY_INTEGER_1 enable 1    
    end 

    000A: TEMPORARY_INTEGER_1 += 1 
    000A: TEMPORARY_VALUE_1 += 1 
end
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 6 
    then
        0085: TEMPORARY_FLAG_1 = SELECTED_MENU_ITEM
        jump @GANG_MEMBER_MENU
    end 
    if 0039:   SELECTED_MENU_ITEM == 8 //back
    then
        08DA: remove_panel CURRENT_MENU 
        jump @GANG_MANAGE_MENU  
    end
    if 0039:   SELECTED_MENU_ITEM == 9  //exit
    then
        gosub @removeMenu
        jump @BC7MOD_START 
    end
end
gosub @removeMenu
jump @BC7MOD_START

:GANG_MEMBER_MENU
gosub @REMOVE_DYNAMIC_GXT_STRINGS
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GMPT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'GMP1' 'GMP2' 'GMP3' 'DUMMY' 'GMP4' 'GMP5' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY'
08D9: set_panel CURRENT_MENU row 0 enable 0 
08D9: set_panel CURRENT_MENU row 1 enable 0 
08D9: set_panel CURRENT_MENU row 2 enable 0 
TEMPORARY_VALUE_1 = -1
092B: TEMPORARY_VALUE_1 = group $PLAYER_GROUP member TEMPORARY_FLAG_1 
0085: TEMPORARY_VALUE_2 = TEMPORARY_FLAG_1
000A: TEMPORARY_VALUE_2 += 1  

if 0039:   TEMPORARY_VALUE_1 == -1 
then
    08DA: remove_panel CURRENT_MENU
    gosub @SHOW_ERROR
    jump @GANG_MEMBERS_MANAGE_MENU
end

:GANG_MEMBER_MENU_SET
08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'GMP1' number TEMPORARY_VALUE_2
0226: TEMPORARY_VALUE_3 = actor TEMPORARY_VALUE_1 health
08EE: set_panel CURRENT_MENU column 0 row 1 text_1number GXT 'GMP2' number TEMPORARY_VALUE_3 
0470: TEMPORARY_VALUE_4 = actor TEMPORARY_VALUE_1 current_weapon 
//TODO: Show name of weapon instead of weapon id
08EE: set_panel CURRENT_MENU column 0 row 2 text_1number GXT 'GMP3' number TEMPORARY_VALUE_4 
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        06C9: remove_actor TEMPORARY_VALUE_1 from_group 
        08DA: remove_panel CURRENT_MENU 
        jump @GANG_MEMBERS_MANAGE_MENU 
    end
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
        0223: set_actor TEMPORARY_VALUE_1 health_to 500 
        jump @GANG_MEMBER_MENU_SET
    end 
    if 0039:   SELECTED_MENU_ITEM == 7 //back
    then
        08DA: remove_panel CURRENT_MENU 
        jump @GANG_MEMBERS_MANAGE_MENU 
    end
    if 0039:   SELECTED_MENU_ITEM == 8  //exit
    then
        gosub @removeMenu
        jump @BC7MOD_START 
    end 
end
gosub @removeMenu 
jump @BC7MOD_START


:VEHICLE_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VEHT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'VEHT0' 'VEHT1' 'VEHT2' 'VEHT3' 'DUMMY' 'VEHT4' 'DUMMY' 'VEHT5' 'VEHT6' 'DUMMY' 'BBACK' 'BEXIT'

if               
    0AA9:  is_game_version_original
then
//nothing
else
    08D9: set_panel CURRENT_MENU row 4 enable 0
    08EE: set_panel CURRENT_MENU column 1 row 4 text_1number GXT 'NOTS' number 0  
end

if
   not Actor.Driving($PLAYER_ACTOR)
then
    08D9: set_panel CURRENT_MENU row 6 enable 0
    08D9: set_panel CURRENT_MENU row 7 enable 0 
    08D9: set_panel CURRENT_MENU row 8 enable 0
    08D9: set_panel CURRENT_MENU row 9 enable 0
end    
              
:VEHICLE_SET
if 0039:   VEHICLE_GODMODE == 1
then
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'BENAB' number 0
else
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'BDISA' number 0
end
if 0039:   BIKE_NOTFALLOFF == 1
then
    08EE: set_panel CURRENT_MENU column 1 row 1 text_1number GXT 'BENAB' number 0
else
    08EE: set_panel CURRENT_MENU column 1 row 1 text_1number GXT 'BDISA' number 0
end
 
TEMPORARY_VALUE_1 = 0          
0A8D: TEMPORARY_VALUE_1 = read_memory 0x969152 size 1 virtual_protect 0
if 
    0039:   TEMPORARY_VALUE_1 == 1 
then
    08EE: set_panel CURRENT_MENU column 1 row 2 text_1number GXT 'BENAB' number 0
else
    08EE: set_panel CURRENT_MENU column 1 row 2 text_1number GXT 'BDISA' number 0
end

if 
    0039:   VEHICLE_AUTOFLIP == 1 
then
    08EE: set_panel CURRENT_MENU column 1 row 3 text_1number GXT 'BENAB' number 0
else
    08EE: set_panel CURRENT_MENU column 1 row 3 text_1number GXT 'BDISA' number 0
end
 
    gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
         if 0039:   VEHICLE_GODMODE == 1
        then
            VEHICLE_GODMODE = 0
        else    
            VEHICLE_GODMODE = 1
        end           
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
         if 0039:   BIKE_NOTFALLOFF == 1
        then
            BIKE_NOTFALLOFF = 0
        else    
            BIKE_NOTFALLOFF = 1
        end           
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
         if 0039:   TEMPORARY_VALUE_1 == 1
        then
            0A8C: write_memory 0x969152 size 1 value 0 virtual_protect 0
        else    
            0A8C: write_memory 0x969152 size 1 value 1 virtual_protect 0
        end           
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        if 0039:   VEHICLE_AUTOFLIP == 1
        then
            VEHICLE_AUTOFLIP = 0
        else    
          VEHICLE_AUTOFLIP = 1
        end           
    end
    
    if 0039:   SELECTED_MENU_ITEM == 5
    then
     08DA: remove_panel CURRENT_MENU
    jump @VEHICLE_CATEGORIES_1
    end
    
    if 0039:   SELECTED_MENU_ITEM == 7
    then
         jump @VEHICLE_PROPERTIES
    end
    if 0039:   SELECTED_MENU_ITEM == 8
    then
         jump @VEHICLE_TOGGLES
    end
    
    if 0039:   SELECTED_MENU_ITEM == 10
        then
        08DA: remove_panel CURRENT_MENU 
        jump  @MAIN_START
        end                  
        
        if 
        0039:   SELECTED_MENU_ITEM == 11 
        then
        gosub @RemoveMenu
        jump @BC7MOD_START
        end
    jump @VEHICLE_SET
end
jump @BC7MOD_MAINMENU

:VEHICLE_PROPERTIES
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VERPT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'VEPR1' 'VEPR2' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:VEHICLE_PROPERTIES_SET
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
     jump @VEHICLE_CUSTOMISATION
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
     jump @HANDLING_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
     jump @VEHICLE_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 4 
    then
     gosub @removeMenu
    end
end
jump @BC7MOD_START

:VEHICLE_CUSTOMISATION
08DA: remove_panel CURRENT_MENU
015A: restore_camera 
08D4: CURRENT_MENU = create_panel_with_title 'VAPMT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'VAPM1' 'VAPM2' 'VAPM3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:VEHICLE_CUSTOMISATION_CHECK_1
if and
84A7:   not actor $PLAYER_ACTOR driving_boat 
847A:   not actor $PLAYER_ACTOR driving_bike 
84C8:   not actor $PLAYER_ACTOR driving_flying_vehicle      
84A9:   not actor $PLAYER_ACTOR driving_heli                                                        
80DD:   not actor $PLAYER_ACTOR driving_car_with_model #VORTEX 
80DD:   not actor $PLAYER_ACTOR driving_car_with_model #RHINO 
then
    jump @VEHICLE_CUSTOMISATION_CHECK_2 
else
    08D9: set_panel CURRENT_MENU row 2 enable 0
end
jump @VEHICLE_CUSTOMISATION_SET

:VEHICLE_CUSTOMISATION_CHECK_2
if
09AE:   actor $PLAYER_ACTOR driving_train 
then
    08D9: set_panel CURRENT_MENU row 2 enable 0
    else
    08D9: set_panel CURRENT_MENU row 2 enable 1
end

:VEHICLE_CUSTOMISATION_SET
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
     TEMPORARY_INTEGER_1 = 1
     jump @VEHICLE_SET_COLOR 
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
     TEMPORARY_INTEGER_1 = 2
     jump @VEHICLE_SET_COLOR 
    end
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
     jump @VEHICLE_WHEELS_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 4 
    then
     jump @VEHICLE_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
     gosub @removeMenu
    end
end
jump @BC7MOD_START


:VEHICLE_SET_COLOR
08DA: remove_panel CURRENT_MENU 
0512: show_permanent_text_box 'VAPC' 
0964: create_square_color_panel 'CARM1' position 29.0 145.0 width 25.7 columns 8 interactive 1 background 1 alignment 1 panelID CURRENT_MENU  // Colors
067A: put_camera_on_car PLAYER_VEHICLE with_offset 3.0 3.0 1.8 point_to_car PLAYER_VEHICLE tilt 1.0 2
03F3: get_car PLAYER_VEHICLE primary_color_to TEMPORARY_VALUE_1 secondary_color_to TEMPORARY_VALUE_2 
 
        repeat
        wait  0 ms
        Player.CanMove($PLAYER_CHAR) = False
        04D7: set_actor $PLAYER_ACTOR locked 1
        if
            00E1:   player 0 pressed_key 15 //anuleren 
        then  
            repeat
            wait 0
            until 80E1:   not player 0 pressed_key 15
            jump @COLOR_REVERT
        end
        08D7: TEMPORARY_VALUE_3 = panel CURRENT_MENU active_row
        if 803B:   not  TEMPORARY_VALUE_3 == SELECTED_MENU_ITEM // (int) 
        then
             08D7: SELECTED_MENU_ITEM = panel CURRENT_MENU active_row
            0A22: set_car_color_to_panel_color_panelID CURRENT_MENU car PLAYER_VEHICLE colorslot TEMPORARY_INTEGER_1 active_row SELECTED_MENU_ITEM
        end
        until 00E1:   player 0 pressed_key 16
    repeat
        wait 0
    until 80E1:   not player 0 pressed_key 16 
    jump @COLOR_EXIT_MENU
    
    :COLOR_REVERT
        0229: set_car PLAYER_VEHICLE primary_color_to TEMPORARY_VALUE_1 secondary_color_to TEMPORARY_VALUE_2 

    :COLOR_EXIT_MENU
        03E6: remove_text_box 
        08DA: remove_panel CURRENT_MENU
    jump @VEHICLE_CUSTOMISATION

:VEHICLE_WHEELS_MENU 
067A: put_camera_on_car PLAYER_VEHICLE with_offset 6.0 1.8 0.5 point_to_car PLAYER_VEHICLE tilt 1.0 2
08DA: remove_panel CURRENT_MENU
075E: load_shopping_data_PRICES_subsection "CARMOD2" // v$ 
075E: load_shopping_data_PRICES_subsection "CARMOD3" // v$ 
075E: load_shopping_data_PRICES_subsection "CARMOD1" // v$
075D: load_shopping_data_SHOPS_subsection "CARMODS" // v$  

08D4: CURRENT_MENU = create_panel_with_title 'WHEELT' position 29.0 145.0 width 220.0 columns 1 interactive 1 background 1 alignment 1 
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'WHEEL01' 'WHEEL02' 'WHEEL03' 'WHEEL04' 'WHEEL05' 'WHEEL06' 'WHEEL07' 'WHEEL08' 'DUMMY' 'BNEP' 'BBACK' 'BEXIT' 

:VEHICLE_WHEELS_MENU_SET
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
     if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 7
    then
        0085: TEMPORARY_FLAG_1 = SELECTED_MENU_ITEM
        000A: TEMPORARY_FLAG_1 += 1073 
        gosub @VEHICLE_WHEELS_SET 
        jump @VEHICLE_WHEELS_MENU_SET
    end 
    if 0039:   SELECTED_MENU_ITEM == 9 //nextpage
    then
        08DA: remove_panel CURRENT_MENU 
        jump @VEHICLE_WHEELS_MENU_2 
    end
    if 0039:   SELECTED_MENU_ITEM == 10 //back
    then
        08DA: remove_panel CURRENT_MENU 
        jump @VEHICLE_CUSTOMISATION 
    end
    if 0039:   SELECTED_MENU_ITEM == 11  //exit
    then
        gosub @removeMenu
        jump @BC7MOD_START 
    end
end
gosub @removeMenu
jump @BC7MOD_START 



:VEHICLE_WHEELS_MENU_2
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'WHEELT' position 29.0 145.0 width 220.0 columns 1 interactive 1 background 1 alignment 1 
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'WHEEL09' 'WHEEL10' 'WHEEL11' 'WHEEL12' 'WHEEL13' 'WHEEL14' 'WHEEL15' 'WHEEL16' 'DUMMY' 'BPRP' 'BEXIT' 'DUMMY'

:VEHICLE_WHEELS_MENU_2_SET
gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
     if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 7
    then
        0085: TEMPORARY_FLAG_1 = SELECTED_MENU_ITEM
        if 8019:   not  SELECTED_MENU_ITEM > 4
        then
            000A: TEMPORARY_FLAG_1 += 1081 
            else
            000A: TEMPORARY_FLAG_1 += 1091
        end
        gosub @VEHICLE_WHEELS_SET 
        jump @VEHICLE_WHEELS_MENU_2_SET
    end 
    if 0039:   SELECTED_MENU_ITEM == 9 //previous
    then
        08DA: remove_panel CURRENT_MENU 
        jump @VEHICLE_WHEELS_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 10  //exit
    then
        gosub @removeMenu
        jump @BC7MOD_START 
    end
end
gosub @removeMenu
jump @BC7MOD_START 


:VEHICLE_WHEELS_SET 
06E9: load_car_component TEMPORARY_FLAG_1 
repeat
    wait 0
until 06EA:   car_component TEMPORARY_FLAG_1 available 
06E7: TEMPORARY_VALUE_4 = add_car_component TEMPORARY_FLAG_1 to_car PLAYER_VEHICLE 
06EB: release_car_component TEMPORARY_FLAG_1 
return
             
:HANDLING_MENU_1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'HANMT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'HANM1' 'HANM2' 'HANM3' 'DUMMY' 'HANM4' 'HANM5' 'HANM6' 'HANM7' 'DUMMY' 'BNEP' 'BBACK' 'BEXIT'
{TODO: CLEANUP

0441: TEMPORARY_VALUE_1 = car PLAYER_VEHICLE model

Need cleanup: replaced with custom upcode 0BC0
TEMPORARY_VALUE_1 -= 400 

0085: TEMPORARY_VALUE_2 = TEMPORARY_VALUE_1
TEMPORARY_VALUE_2 *= 0x308
TEMPORARY_VALUE_2 += 0xB1F650
TEMPORARY_VALUE_2 += 0x4E
0A8D: HANDLING_OFFSET = read_memory TEMPORARY_VALUE_2 size 2 virtual_protect 0
HANDLING_OFFSET *= 0xE0
HANDLING_OFFSET += 0xC2B9DC 

0BC0: HANDLING_OFFSET = get_handling_offset_from_vehicle_model TEMPORARY_VALUE_1


HANDLING_OFFSET += 0x7C

TEMPORARY_VALUE_1 = 0
TEMPORARY_VALUE_2 = 0
TEMPORARY_VALUE_3 = 0
TEMPORARY_VALUE_4 = 0  
}
gosub @GetHandlingOffset
000A: HANDLING_OFFSET += 0x9C
:HANDLING_MENU_1_SET
0A8D: TEMPORARY_VALUE_1 = read_memory HANDLING_OFFSET size 1 virtual_protect 0
if 0039:   TEMPORARY_VALUE_1 == 1
then
    08EE: set_panel CURRENT_MENU column 1 row 2 text_1number GXT 'BENAB' number 0
else
    08EE: set_panel CURRENT_MENU column 1 row 2 text_1number GXT 'BDISA' number 0
end 


gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if 
        0039:   SELECTED_MENU_ITEM == 0
    then
            08DA: remove_panel CURRENT_MENU 
            jump  @DRIVE_TYPE_MENU
    end
    if 
        0039:   SELECTED_MENU_ITEM == 1
    then
            08DA: remove_panel CURRENT_MENU 
            jump  @ENGINE_TYPE_MENU
    end
    if 
        0039:   SELECTED_MENU_ITEM == 2
    then
            if 0039:   TEMPORARY_VALUE_1 == 1
            then
                0A8C: write_memory HANDLING_OFFSET size 1 value 0 virtual_protect 0
             else
                0A8C: write_memory HANDLING_OFFSET size 1 value 1 virtual_protect 0
            end
            jump @HANDLING_MENU_1_SET
    end
    if and
    0019:   SELECTED_MENU_ITEM > 3 
    8019:   not  SELECTED_MENU_ITEM > 8 
    then
        0085: TEMPORARY_FLAG_2 = SELECTED_MENU_ITEM// (int) 
        000E: TEMPORARY_FLAG_2 -= 3
        jump @HANDLING_OTHER 
    end
    if 
        0039:   SELECTED_MENU_ITEM == 9
    then
            08DA: remove_panel CURRENT_MENU 
            jump  @HANDLING_MENU_2
    end
    if 
        0039:   SELECTED_MENU_ITEM == 10
    then
            08DA: remove_panel CURRENT_MENU 
            jump  @VEHICLE_MENU
    end
    if 
        0039:   SELECTED_MENU_ITEM == 11
    then
            gosub @RemoveMenu
            jump @BC7MOD_START
    end
    jump @HANDLING_MENU_1
end
jump @BC7MOD_START

:HANDLING_MENU_2
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'HANMT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'HANM8' 'HANM9' 'HANM10' 'HANM11' 'HANM12' 'HANM13' 'HANM14' 'HANM15' 'DUMMY' 'BNEP' 'BPRP' 'BEXIT'

gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if and
    0029:   SELECTED_MENU_ITEM >= 0 
    8019:   not  SELECTED_MENU_ITEM > 7
    then
        0085: TEMPORARY_FLAG_2 = SELECTED_MENU_ITEM// (int) 
        000A: TEMPORARY_FLAG_2 += 5 
        jump @HANDLING_OTHER 
    end
    if 
        0039:   SELECTED_MENU_ITEM == 9
    then
            08DA: remove_panel CURRENT_MENU 
            jump  @HANDLING_MENU_3
    end
    if 
        0039:   SELECTED_MENU_ITEM == 10
    then
            08DA: remove_panel CURRENT_MENU 
            jump  @HANDLING_MENU_1
    end
    if 
        0039:   SELECTED_MENU_ITEM == 11
    then
            gosub @RemoveMenu
            jump @BC7MOD_START
    end 
end
jump @BC7MOD_START

:HANDLING_MENU_3
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'HANMT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'HANM16' 'HANM17' 'HANM18' 'HANM19' 'HANM20' 'DUMMY' 'BPRP' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1
then
    if and
    0029:   SELECTED_MENU_ITEM >= 0 
    8019:   not  SELECTED_MENU_ITEM > 4
    then
        0085: TEMPORARY_FLAG_2 = SELECTED_MENU_ITEM// (int) 
        000A: TEMPORARY_FLAG_2 += 13
        jump @HANDLING_OTHER 
    end
    if 
        0039:   SELECTED_MENU_ITEM == 6
    then
            08DA: remove_panel CURRENT_MENU 
            jump  @HANDLING_MENU_2
    end
    if 
        0039:   SELECTED_MENU_ITEM == 7
    then
            gosub @RemoveMenu
            jump @BC7MOD_START
    end
end
jump @BC7MOD_START

:DRIVE_TYPE_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'HANM1' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'HADT1' 'HADT2' 'HADT3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
gosub @GetHandlingOffset
000A: HANDLING_OFFSET += 0x74

:DRIVE_TYPE_MENU_SET
0A8D: TEMPORARY_VALUE_1 = read_memory HANDLING_OFFSET size 1 virtual_protect 0
if 0039:   TEMPORARY_VALUE_1 == 70
then
    08D9: set_panel CURRENT_MENU row 0 enable 0 
else
    08D9: set_panel CURRENT_MENU row 0 enable 1
end 
if 0039:   TEMPORARY_VALUE_1 == 82    
then
    08D9: set_panel CURRENT_MENU row 1 enable 0 
else
    08D9: set_panel CURRENT_MENU row 1 enable 1
end 
if 0039:   TEMPORARY_VALUE_1 == 52
then
    08D9: set_panel CURRENT_MENU row 2 enable 0 
else
    08D9: set_panel CURRENT_MENU row 2 enable 1
end 

gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1  
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        0A8C: write_memory HANDLING_OFFSET size 1 value 70 virtual_protect 0
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        0A8C: write_memory HANDLING_OFFSET size 1 value 82 virtual_protect 0
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        0A8C: write_memory HANDLING_OFFSET size 1 value 52 virtual_protect 0
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        08DA: remove_panel CURRENT_MENU
        jump @HANDLING_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        gosub @removeMenu
        jump @BC7MOD_START
    end  
    jump @DRIVE_TYPE_MENU_SET
end
jump @BC7MOD_START

:ENGINE_TYPE_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'HANM2' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'HAET1' 'HAET2' 'HAET3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
gosub @GetHandlingOffset
000A: HANDLING_OFFSET += 0x75

:ENGINE_TYPE_MENU_SET
0A8D: TEMPORARY_VALUE_1 = read_memory HANDLING_OFFSET size 1 virtual_protect 0
if 0039:   TEMPORARY_VALUE_1 == 80
then
    08D9: set_panel CURRENT_MENU row 0 enable 0 
else
    08D9: set_panel CURRENT_MENU row 0 enable 1
end 
if 0039:   TEMPORARY_VALUE_1 == 68    
then
    08D9: set_panel CURRENT_MENU row 1 enable 0 
else
    08D9: set_panel CURRENT_MENU row 1 enable 1
end 
if 0039:   TEMPORARY_VALUE_1 == 69
then
    08D9: set_panel CURRENT_MENU row 2 enable 0 
else
    08D9: set_panel CURRENT_MENU row 2 enable 1
end 

gosub @StandardMenu
if 0039:   MENU_VISIBLE == 1  
then
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        0A8C: write_memory HANDLING_OFFSET size 1 value 80 virtual_protect 0
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        0A8C: write_memory HANDLING_OFFSET size 1 value 68 virtual_protect 0
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        0A8C: write_memory HANDLING_OFFSET size 1 value 69  virtual_protect 0
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        08DA: remove_panel CURRENT_MENU
        jump @HANDLING_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        gosub @removeMenu
        jump @BC7MOD_START
    end  
    jump @ENGINE_TYPE_MENU_SET
end
jump @BC7MOD_START

//TODO: Cleanup
:HANDLING_OTHER_MENU_STRUCT
    0A97: HANDLING_OFFSET = car PLAYER_VEHICLE struct
return

:HANDLING_OTHER_MENU_OFFSET
    gosub @GetHandlingOffset
return

:HANDLING_OTHER
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'HANMT' position 29.0 145.0 width 125.0 columns 2 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'PVAL' 'DUMMY' 'GMIV' 'GMDV' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
gosub @REMOVE_DYNAMIC_GXT_STRINGS

:HANDLING_OTHER_SET
if 0039:   TEMPORARY_FLAG_2 == 1 
then 
    //gosub @HANDLING_OTHER_MENU_STRUCT
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0x4 
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = 0.0 
    0007: GENERAL_VALUE_MAX = 25500.0
    0007: GENERAL_STEP_VALUE = 10.0                                  
    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f Kg"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT1' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 2 
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0x10
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -50.0 
    0007: GENERAL_VALUE_MAX = 50.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT2' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 3 
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0x28
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -20.0 
    0007: GENERAL_VALUE_MAX = 20.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT3' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 4 
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xA4
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -10.0 
    0007: GENERAL_VALUE_MAX = 10.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT4' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 5 
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xA8
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -10.0 
    0007: GENERAL_VALUE_MAX = 10.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT5' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
{
TODO: Needs cleanup

if 0039:   TEMPORARY_FLAG_2 == 6
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0x84 
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = 0.1 
    0007: GENERAL_VALUE_MAX = 1.22 
    0007: GENERAL_STEP_VALUE = 0.01
    
    0087: TEMPORARY_VALUE_1 = GENERAL_VALUE_HOLDER // (float) 
    0013: TEMPORARY_VALUE_1 *= 2 00.0

    0AED: 16@v = float TEMPORARY_VALUE_1 to_string_format "%.2f km/h"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT6' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end}
if 0039:   TEMPORARY_FLAG_2 == 6
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0x80
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = 0.0 
    0007: GENERAL_VALUE_MAX = 500.0  
    0007: GENERAL_STEP_VALUE = 1.0

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT6' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 7
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0x94 
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = 0.0 
    0007: GENERAL_VALUE_MAX = 500.0  
    0007: GENERAL_STEP_VALUE = 1.0

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT7' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 8
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0x98  
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = 0.0 
    0007: GENERAL_VALUE_MAX = 100.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT8' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 9
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xA0  
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = 0.0 
    0007: GENERAL_VALUE_MAX = 80.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT9' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 10
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xAC   
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -10.0 
    0007: GENERAL_VALUE_MAX = 10.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT10' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 11
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xB0    
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -10.0 
    0007: GENERAL_VALUE_MAX = 10.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT11' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 12
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xC0     
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -10.0 
    0007: GENERAL_VALUE_MAX = 10.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT12' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 13
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xC4      
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -10.0 
    0007: GENERAL_VALUE_MAX = 10.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT13' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 14
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xB8       
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -10.0 
    0007: GENERAL_VALUE_MAX = 10.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT14' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 15
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xBC       
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = -10.0 
    0007: GENERAL_VALUE_MAX = 10.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT15' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 16
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xB4        
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN =  0.0 
    0007: GENERAL_VALUE_MAX = 1000.0  
    0007: GENERAL_STEP_VALUE = 1.0

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT16' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
if 0039:   TEMPORARY_FLAG_2 == 17
then 
    gosub @HANDLING_OTHER_MENU_OFFSET
    HANDLING_OFFSET += 0xC8      
    0A8D: GENERAL_VALUE_HOLDER = read_memory HANDLING_OFFSET size 4 virtual_protect 0
    0007: GENERAL_VALUE_MIN = 0.0 
    0007: GENERAL_VALUE_MAX = 10.0  
    0007: GENERAL_STEP_VALUE = 0.1

    0AED: 16@v = float GENERAL_VALUE_HOLDER to_string_format "%.2f"
    0ADF: add_dynamic_GXT_entry "DE0" text 16@v
    
    08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAOT17 ' number 0
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'DE0' number 0
end
gosub @ValueMenu
if 0039:   MENU_VISIBLE == 1  
then
    if 0039:   SELECTED_MENU_ITEM == 2
    then        
        if 0025:  GENERAL_VALUE_MAX > GENERAL_VALUE_HOLDER// (float) 
        then             
            005B: GENERAL_VALUE_HOLDER += GENERAL_STEP_VALUE
        end 
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        if 0025:   GENERAL_VALUE_HOLDER > GENERAL_VALUE_MIN // (float) 
        then
            0063: GENERAL_VALUE_HOLDER -= GENERAL_STEP_VALUE
        end    
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        08DA: remove_panel CURRENT_MENU
        jump @HANDLING_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        gosub @removeMenu
        jump @BC7MOD_START
    end
    0A8C: write_memory HANDLING_OFFSET size 4 value GENERAL_VALUE_HOLDER virtual_protect 0
    jump @HANDLING_OTHER_SET
end
jump @BC7MOD_START

{ TODO: NEEDS CLEANUP

:HANDLING_MASS
08D4: CURRENT_MENU = create_panel_with_title 'HAMT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB:  set_panel CURRENT_MENU column 0 header 'DUMMY' data 'HAM1' 'DUMMY' 'HAM2' 'HAM3' 'HAM4' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:HANDLING_MASS_SET
0A97: TEMPORARY_VALUE_1 = car PLAYER_VEHICLE struct
TEMPORARY_VALUE_1 += 0x8C
0A8D: TEMPORARY_VALUE_2 = read_memory TEMPORARY_VALUE_1 size 4 virtual_protect 0
0092: TEMPORARY_VALUE_3 = float TEMPORARY_VALUE_2 to_integer

//0AC6: TEXT_ARRAY = label @TextPool offset 
//0AD3: string TEMPORARY_STRING_1 format "%d" TEMPORARY_VALUE_3
//0A8C: write_memory TEXT_ARRAY size 4 value TEMPORARY_STRING_1 virtual_protect 0

08EE: set_panel CURRENT_MENU column 0 row 0 text_1number GXT 'HAM1' number TEMPORARY_VALUE_3
08D9: set_panel CURRENT_MENU row 0 enable 0 
gosub @StandardMenu

if 0039:   MENU_VISIBLE == 1  
then
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        000B: TEMPORARY_VALUE_2 += 1.00
        0A8C: write_memory TEMPORARY_VALUE_1 size 4 value TEMPORARY_VALUE_2 virtual_protect 0
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        000F: TEMPORARY_VALUE_2  -= 1.00 
        0A8C: write_memory TEMPORARY_VALUE_1 size 4 value TEMPORARY_VALUE_2 virtual_protect 0
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        08DA: remove_panel CURRENT_MENU
        gosub @CLEAR_TEXT_BUFFER
        gosub @INPUT_FORM_DECIMAL
        if
            8039:   not  TEMPORARY_VALUE_4 == 0 
        then
        0AC6: TEXT_ARRAY = label @TextPool offset
        0BC1: convert_string TEXT_ARRAY to_float_store_at TEMPORARY_VALUE_2

        0A97: TEMPORARY_VALUE_1 = car PLAYER_VEHICLE struct
        TEMPORARY_VALUE_1 += 0x8C
        
        if
            TEMPORARY_VALUE_2 > 50000.0
        then
            TEMPORARY_VALUE_2 = 50000.0
        end
        if
            TEMPORARY_VALUE_2 < 1.0
        then
            TEMPORARY_VALUE_2 =1.0
        end
        
        
        
        0A8C: write_memory TEMPORARY_VALUE_1 size 4 value TEMPORARY_VALUE_2 virtual_protect 0
        end
        jump @HANDLING_MASS
    end
    
    
    
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        08DA: remove_panel CURRENT_MENU
        jump @HANDLING_MENU_1     
    end
    
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        gosub @RemoveMenu
        jump @BC7MOD_START
    end
    jump @HANDLING_MASS_SET
end
jump @BC7MOD_START
}

:VEHICLE_TOGGLES
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VETT' position 29.0 145.0 width 250.0 columns 2 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'VETO1' 'VETO2' 'DUMMY' 'VETO3' 'VETO4' 'VETO5' 'VETO6' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY'

:VEHICLE_TOGLES_SET
if 0ABE:   vehicle PLAYER_VEHICLE engine_on
then
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'BENAB' number 0
    else
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'BDISA' number 0
end

if 0803:   car PLAYER_VEHICLE have_hydraulics 
then
    08EE: set_panel CURRENT_MENU column 1 row 1 text_1number GXT 'BENAB' number 0
    else
    08EE: set_panel CURRENT_MENU column 1 row 1 text_1number GXT 'BDISA' number 0
end       


gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        if 0ABE:   vehicle PLAYER_VEHICLE engine_on
        then
            0ABF: set_vehicle PLAYER_VEHICLE engine_state_to 0
            else
            0ABF: set_vehicle PLAYER_VEHICLE engine_state_to 1
        end
        jump @VEHICLE_TOGLES_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        if 0803:   car PLAYER_VEHICLE have_hydraulics 
        then
            07FF: set_car PLAYER_VEHICLE hydraulics 0
            else
            07FF: set_car PLAYER_VEHICLE hydraulics 1
        end
        jump @VEHICLE_TOGLES_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
        09E9: give_nitro_to_car PLAYER_VEHICLE  
        08D9: set_panel CURRENT_MENU row 3 enable 0 
        jump @VEHICLE_TOGLES_SET
    end  
    if 0039:   SELECTED_MENU_ITEM == 4 
    then
        0A30: repair_car PLAYER_VEHICLE
        08D9: set_panel CURRENT_MENU row 4 enable 0 
        jump @VEHICLE_TOGLES_SET
    end  
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
        jump @VEHICLE_LIGHTS_MENU
    end  
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        jump @VEHICLE_LOCK_MENU
    end 
    if 0039:   SELECTED_MENU_ITEM == 8
    then
        jump @VEHICLE_MENU
    end 
    if 0039:   SELECTED_MENU_ITEM == 9
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START
    end 
end
jump @BC7MOD_START

:VEHICLE_LIGHTS_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VELIT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'VELI1' 'VELI2' 'VALI3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:VEHICLE_LIGHTS_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        	067F: force_car_lights PLAYER_VEHICLE to 0       
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
        067F: force_car_lights PLAYER_VEHICLE to 2  
        0919: set_car_lights_on PLAYER_VEHICLE to 1      
    end
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
        067F: force_car_lights PLAYER_VEHICLE to 1     
        0919: set_car_lights_on PLAYER_VEHICLE to 0         
    end
    if 0039:   SELECTED_MENU_ITEM == 4 
    then
        08DA: remove_panel CURRENT_MENU 
        jump @VEHICLE_TOGGLES
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
jump @VEHICLE_TOGGLES
end
jump @BC7MOD_START

:VEHICLE_LOCK_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VELCT' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'VELC1' 'VELC2' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:VEHICLE_LOCK_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        	020A: set_car PLAYER_VEHICLE door_status_to 8
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
       020A: set_car PLAYER_VEHICLE door_status_to 1 
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
        08DA: remove_panel CURRENT_MENU 
        jump @VEHICLE_TOGGLES
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
jump @VEHICLE_TOGGLES
end
jump @BC7MOD_START

:WEAPON_MENU_1
015D: set_gamespeed 0.1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VELCT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'WEME1' 'DUMMY' 'GEWM1' 'GEWM2' 'GEWM3' 'GEWM4' 'GEWM5' 'GEWM6' 'DUMMY' 'BNEP' 'BBACK' 'BEXIT'

:WEAPON_MENU_1_SET
if 0039:   UNLIMITED_AMMO == 0 
then
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'BDISA' number 0
else
    08EE: set_panel CURRENT_MENU column 1 row 0 text_1number GXT 'BENAB' number 0
end                         
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        if 0039:   UNLIMITED_AMMO == 0 
        then
            UNLIMITED_AMMO = 1
        else
            UNLIMITED_AMMO = 0
        end       
    end
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_MELEE_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_HANDGUNS_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 4 
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_SHOTGUNS_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_SUBMACHINEGUNS_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_MACHINEGUNS_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_RIFLES_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 9 
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_2
    end
    if 0039:   SELECTED_MENU_ITEM == 10
    then
        08DA: remove_panel CURRENT_MENU 
        jump @MAIN_START
    end
    if 0039:   SELECTED_MENU_ITEM == 11
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
jump @WEAPON_MENU_1_SET
end
jump @BC7MOD_START

:WEAPON_MENU_2
015D: set_gamespeed 0.1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VELCT' position 29.0 145.0 width 200.0 columns 2 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'GEWM7' 'GEWM8' 'GEWM9' 'GEWM10' 'DUMMY' 'BPRP' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:WEAPON_MENU_2_SET

gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_HEAVY_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_SPECIALS_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_PROJECTILES_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPONS_GIFTS_MENU
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
jump @WEAPON_MENU_2_SET 
end
jump @BC7MOD_START


:WEAPONS_MELEE_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM1' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'MEL1' 'MEL2' 'MEL3' 'MEL4' 'MEL5' 'MEL6' 'MEL7' 'MEL8' 'MEL9' 'DUMMY' 'BBACK' 'BEXIT'

:WEAPONS_MELEE_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 8 
    then
        0006: TEMPORARY_MODEL = 331 
        005A: TEMPORARY_MODEL += SELECTED_MENU_ITEM // (int) 
        0006: GENERAL_VALUE_HOLDER = 1 
        005A: GENERAL_VALUE_HOLDER += SELECTED_MENU_ITEM // (int) 
        
        if   0019:   TEMPORARY_MODEL > 331
        then
            000A: TEMPORARY_MODEL += 1 
        end   
        if   0019:   TEMPORARY_MODEL > 339
        then
            000A: TEMPORARY_MODEL += 1
        end   
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_MELEE_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 10
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 11
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START 

:WEAPONS_HANDGUNS_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM2' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'HAG1' 'HAG2' 'HAG3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:WEAPONS_HANDGUNS_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 2 
    then
        0006: TEMPORARY_MODEL = 346 
        005A: TEMPORARY_MODEL += SELECTED_MENU_ITEM // (int) 
        0006: GENERAL_VALUE_HOLDER = 22 
        005A: GENERAL_VALUE_HOLDER += SELECTED_MENU_ITEM // (int)  
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_HANDGUNS_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START 

:WEAPONS_SHOTGUNS_MENU 
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM3' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'SHO1' 'SHO2' 'SHO3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:WEAPONS_SHOTGUNS_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 2 
    then
        0006: TEMPORARY_MODEL = 349 
        005A: TEMPORARY_MODEL += SELECTED_MENU_ITEM // (int) 
        0006: GENERAL_VALUE_HOLDER = 25 
        005A: GENERAL_VALUE_HOLDER += SELECTED_MENU_ITEM // (int)  
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_SHOTGUNS_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START 

:WEAPONS_SUBMACHINEGUNS_MENU   
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM4' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'SMG1' 'SMG2' 'SMG3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:WEAPONS_SUBMACHINEGUNS_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 2 
    then                                
        0006: TEMPORARY_MODEL = 352 
        005A: TEMPORARY_MODEL += SELECTED_MENU_ITEM // (int) 
        0006: GENERAL_VALUE_HOLDER = 28 
        005A: GENERAL_VALUE_HOLDER += SELECTED_MENU_ITEM // (int)  
        
        if 0039:   TEMPORARY_MODEL == 354
        then
            0006: TEMPORARY_MODEL = 372
            0006: GENERAL_VALUE_HOLDER = 32
        end   
        
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_SUBMACHINEGUNS_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START 

:WEAPONS_MACHINEGUNS_MENU   
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM5' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'MG1' 'MG2' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:WEAPONS_MACHINEGUNS_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 1 
    then
        0006: TEMPORARY_MODEL = 355 
        005A: TEMPORARY_MODEL += SELECTED_MENU_ITEM // (int) 
        0006: GENERAL_VALUE_HOLDER = 30 
        005A: GENERAL_VALUE_HOLDER += SELECTED_MENU_ITEM // (int)  
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_MACHINEGUNS_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START 

:WEAPONS_RIFLES_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM6' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'RIF1' 'RIF2' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:WEAPONS_RIFLES_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 1 
    then
        0006: TEMPORARY_MODEL = 357 
        005A: TEMPORARY_MODEL += SELECTED_MENU_ITEM // (int) 
        0006: GENERAL_VALUE_HOLDER = 33 
        005A: GENERAL_VALUE_HOLDER += SELECTED_MENU_ITEM // (int)  
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_RIFLES_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_1
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START  

:WEAPONS_SPECIALS_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM8' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'SPEC1' 'SPEC2' 'SPEC3' 'SPEC4' 'SPEC5' 'SPEC6' 'SPEC7' 'SPEC8' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY'

:WEAPONS_SPECIALS_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        0006: TEMPORARY_MODEL = 361
        0006: GENERAL_VALUE_HOLDER = 37 
        gosub @GiveWeaponToPlayer 
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        0006: TEMPORARY_MODEL = 366
        0006: GENERAL_VALUE_HOLDER = 42 
        gosub @GiveWeaponToPlayer 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        0006: TEMPORARY_MODEL = 365
        0006: GENERAL_VALUE_HOLDER = 41 
        gosub @GiveWeaponToPlayer 
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        0006: TEMPORARY_MODEL = 367
        0006: GENERAL_VALUE_HOLDER = 43 
        gosub @GiveWeaponToPlayer 
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        0006: TEMPORARY_MODEL = 368
        0006: GENERAL_VALUE_HOLDER = 44 
        gosub @GiveWeaponToPlayer 
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        0006: TEMPORARY_MODEL = 369
        0006: GENERAL_VALUE_HOLDER = 45 
        gosub @GiveWeaponToPlayer 
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        0006: TEMPORARY_MODEL = 371
        0006: GENERAL_VALUE_HOLDER = 46 
        gosub @GiveWeaponToPlayer 
    end
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        07A7: put_jetpack_on_actor $PLAYER_ACTOR 
    end
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 7 
    then
        jump @WEAPONS_SPECIALS_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 9
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_2
    end
    if 0039:   SELECTED_MENU_ITEM == 10
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START  

:WEAPONS_HEAVY_MENU  
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM7' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'HEWE1' 'HEWE2' 'HEWE3' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

:WEAPONS_HEAVY_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        0006: TEMPORARY_MODEL = 359
        0006: GENERAL_VALUE_HOLDER = 35 
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_HEAVY_MENU_SET 
    end
    if 0039:   SELECTED_MENU_ITEM == 1
    then
        0006: TEMPORARY_MODEL = 360
        0006: GENERAL_VALUE_HOLDER = 36 
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_HEAVY_MENU_SET 
    end
    if 0039:   SELECTED_MENU_ITEM == 2
    then
        0006: TEMPORARY_MODEL = 362
        0006: GENERAL_VALUE_HOLDER = 38 
        gosub @GiveWeaponToPlayer
        jump @WEAPONS_HEAVY_MENU_SET 
    end
    if 0039:   SELECTED_MENU_ITEM == 4
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_2
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START  

:WEAPONS_PROJECTILES_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM9' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'PRO1' 'PRO2' 'PRO3' 'PRO4' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 

:WEAPONS_PROJECTILES_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 2 
    then
        0006: TEMPORARY_MODEL = 16 
        005A: TEMPORARY_MODEL += SELECTED_MENU_ITEM // (int) 
        0006: GENERAL_VALUE_HOLDER = 342 
        005A: GENERAL_VALUE_HOLDER += SELECTED_MENU_ITEM // (int)  
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_PROJECTILES_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 3
    then
        0006: TEMPORARY_MODEL = 363
        0006: GENERAL_VALUE_HOLDER = 39
        gosub @GiveWeaponToPlayer 
        0006: TEMPORARY_MODEL = 364
        0006: GENERAL_VALUE_HOLDER = 40
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_PROJECTILES_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 5
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_2
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START 

:WEAPONS_GIFTS_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'GEWM10' position 29.0 145.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'GIF1' 'GIF2' 'GIF3' 'GIF4' 'GIF5' 'GIF6' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY'

:WEAPONS_GIFTS_MENU_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
    0029:   SELECTED_MENU_ITEM >= 0
    8019:   not  SELECTED_MENU_ITEM > 5
    then
        0006: TEMPORARY_MODEL = 321 
        005A: TEMPORARY_MODEL += SELECTED_MENU_ITEM // (int) 
        0006: GENERAL_VALUE_HOLDER = 10 
        005A: GENERAL_VALUE_HOLDER += SELECTED_MENU_ITEM // (int) 
        
        gosub @GiveWeaponToPlayer 
        jump @WEAPONS_GIFTS_MENU_SET
    end
    if 0039:   SELECTED_MENU_ITEM == 7
    then
        08DA: remove_panel CURRENT_MENU 
        jump @WEAPON_MENU_2
    end
    if 0039:   SELECTED_MENU_ITEM == 8
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
end
jump @BC7MOD_START 
                    
:SETTINGS
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'SETM' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'SETM1' 'SETM2' 'SETM3' 'SETM4' 'DUMMY' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
      

:SETTINGS_SET
gosub @StandardMenu
if 
    0039:   MENU_VISIBLE == 1
then 
    if 0039:   SELECTED_MENU_ITEM == 0
    then
        08DA: remove_panel CURRENT_MENU
        jump @HOTKEYS        
    end
    if 0039:   SELECTED_MENU_ITEM == 1 
    then
          
    end
    if 0039:   SELECTED_MENU_ITEM == 2 
    then
            
    end
    if 0039:   SELECTED_MENU_ITEM == 3 
    then
           
    end
    if 0039:   SELECTED_MENU_ITEM == 5 
    then
        08DA: remove_panel CURRENT_MENU 
        jump @MAIN_START
    end
    if 0039:   SELECTED_MENU_ITEM == 6
    then
        gosub @RemoveMenu 
        jump @BC7MOD_START 
    end
jump @SETTINGS_SET 
end
jump @BC7MOD_START

:HELP

:FAQ                 

:NotImplemented
    08DA: remove_panel CURRENT_MENU
    08D4: CURRENT_MENU = create_panel_with_title 'NIMET' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
    08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'NIME1' 'DUMMY' 'BBACK' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
    08D9: set_panel CURRENT_MENU row 0 enable 0
    gosub @StandardMenu 
    if 
        0039:   SELECTED_MENU_ITEM == 2
    then
        08DA: remove_panel CURRENT_MENU
        return
    end
return

:SHOW_ERROR
    08DA: remove_panel CURRENT_MENU
    08D4: CURRENT_MENU = create_panel_with_title 'ERMET' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
    08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'ERME1' 'ERME2' 'DUMMY' 'ERME3' 'DUMMY' 'BBACK' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
    08D9: set_panel CURRENT_MENU row 0 enable 0
    08D9: set_panel CURRENT_MENU row 1 enable 0
    08D9: set_panel CURRENT_MENU row 3 enable 0
    gosub @StandardMenu 
    if 
        0039:   SELECTED_MENU_ITEM == 5
    then
        08DA: remove_panel CURRENT_MENU
        return
    end
return

:INPUT_FORM_DECIMAL
     03E6: remove_text_box 
    0512: show_permanent_text_box 'IFDMB'
    08DA: remove_panel CURRENT_MENU
    08D4: CURRENT_MENU = create_panel_with_title 'IFDT' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
    08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'KEYPE' 'DUMMY' 'GEUS' 'GEUC' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
    TEMPORARY_INTEGER_1 = 6
    TEMPORARY_VALUE_2 = 0
    TEMPORARY_VALUE_3 = 0
    TEMPORARY_VALUE_4 = 0
    KEYBOARD_TYPING = true  
        
repeat 
    wait 0
    MENU_VISIBLE = 1
    TEMPORARY_FLAG_1 = 0xd1
    
    if  
        KEYBOARD_TYPING == true 
    then    
         gosub @TextPoolKeyboard
    end
    
wait 0
    if 
        0039:   MENU_VISIBLE == 1
    then 
        08D7: SELECTED_MENU_ITEM = panel CURRENT_MENU active_row 
        if 
            0039:   SELECTED_MENU_ITEM == 0 
        then
            KEYBOARD_TYPING = true
        end
         
        if and
            00E1:   player 0 pressed_key 16 
            0039:   SELECTED_MENU_ITEM == 2 
        then
                repeat
                    wait 0
                until 80E1:   not player 0 pressed_key 16 
                TEMPORARY_FLAG_1 = 0x0
                KEYBOARD_TYPING = false
                return
        end

        if and
            00E1:   player 0 pressed_key 16 
            0039:   SELECTED_MENU_ITEM == 3
        then
            repeat
                wait 0
            until 80E1:   not player 0 pressed_key 16 
            TEMPORARY_FLAG_1 = 0x0
            MENU_VISIBLE = 0
            KEYBOARD_TYPING = false 
            return
        end
    end
until 8039:   not  TEMPORARY_FLAG_1 == 0xd1 
return

:INPUT_FORM_TELEPORT
    03E6: remove_text_box 
    0512: show_permanent_text_box 'IFTMB'
    08DA: remove_panel CURRENT_MENU
    08D4: CURRENT_MENU = create_panel_with_title 'IFTTI' position 50.0 150.0 width 540.0 columns 1 interactive 1 background 1 alignment 1 
    08DB: set_panel CURRENT_MENU column 0 header 'IFTTE' data 'KEYPE' 'DUMMY' 'IFTIC' 'IFTIS' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
    gosub @CLEAR_TEXT_BUFFER 
    TEMPORARY_INTEGER_1 = 14
    TEMPORARY_VALUE_2 = 0
    TEMPORARY_VALUE_3 = 0
    TEMPORARY_VALUE_4 = 0
        
:TYPE_TP_INPUT
    MENU_VISIBLE = 1
    KEYBOARD_TYPING = true  
    TEMPORARY_FLAG_1 = 0x0
    090E: set_panel CURRENT_MENU active_row 0  
gosub @TextPoolKeyboard

:TP_INPUT_KEY_CHECK
wait 0
    if 
        0039:   MENU_VISIBLE == 1
    then 
        08D7: SELECTED_MENU_ITEM = panel CURRENT_MENU active_row  
        if 
            0039:   SELECTED_MENU_ITEM == 0
        then
            jump @TYPE_TP_INPUT
        end
        if and
            00E1:   player 0 pressed_key 16 
            0039:   SELECTED_MENU_ITEM == 2 
        then
                repeat
                    wait 0
                until 80E1:   not player 0 pressed_key 16 
                KEYBOARD_TYPING = false
            jump @SAVED_TELEPORT_MENU
        end

        if and
            00E1:   player 0 pressed_key 16 
            0039:   SELECTED_MENU_ITEM == 3
        then
            repeat
                wait 0
            until 80E1:   not player 0 pressed_key 16 
            0AD3: string 17@v format "TPL%d" TEMPORARY_VALUE_1 
            00A0: store_actor $PLAYER_ACTOR position_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3  
            0172: TEMPORARY_VALUE_4 = actor $PLAYER_ACTOR Z_angle 
            
            0AF5: write_string TEXT_ARRAY to_ini_file "cleo\BC7MOD_config.ini" section 17@v key "name"
            0AF3: write_float TEMPORARY_VALUE_1 to_ini_file "cleo\BC7MOD_config.ini" section 17@v key "position_x"
            0AF3: write_float TEMPORARY_VALUE_2 to_ini_file "cleo\BC7MOD_config.ini" section 17@v key "position_y"
            0AF3: write_float TEMPORARY_VALUE_3 to_ini_file "cleo\BC7MOD_config.ini" section 17@v key "position_z"
            0AF3: write_float TEMPORARY_VALUE_4 to_ini_file "cleo\BC7MOD_config.ini" section 17@v key "angle"
            
            MENU_VISIBLE = 0
            KEYBOARD_TYPING = false 
            jump @SAVED_TELEPORT_MENU
        end
    end
jump @TP_INPUT_KEY_CHECK

:VEHICLE_CATEGORIES_1
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VECA0' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'VECA1' 'VECA2' 'VECA3' 'VECA4' 'VECA5' 'VECA6' 'VECA7' 'VECA8' 'DUMMY' 'BNEP' 'BBACK' 'BEXIT'
TEMPORARY_VALUE_1 = -1

:VEHICLE_CATEGORIES_1_SET
gosub @StandardMenu      
if 
    0039:   MENU_VISIBLE == 1
then 

    if and
        8019:   not  SELECTED_MENU_ITEM > 8 
        0029:   SELECTED_MENU_ITEM >= 0
    then
        0085: TEMPORARY_VALUE_1 = SELECTED_MENU_ITEM //group_id
        TEMPORARY_VALUE_2 = 0     
        jump @VEHICLE_LIST_BUILD     
    else
        if 0039:   SELECTED_MENU_ITEM == 9
        then
            08DA: remove_panel CURRENT_MENU   
            jump @VEHICLE_CATEGORIES_2   
        end
        if 0039:   SELECTED_MENU_ITEM == 10 
        then 
            08DA: remove_panel CURRENT_MENU    
            jump @VEHICLE_MENU
        end
        if 0039:   SELECTED_MENU_ITEM == 11 
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @BC7MOD_START

:VEHICLE_CATEGORIES_2
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VECA0' position 29.0 145.0 width 175.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'VECA9' 'VECA10' 'VECA11' 'VECA12' 'VECA13' 'DUMMY' 'BPRP' 'BBACK' 'BEXIT' 'DUMMY' 'DUMMY' 'DUMMY'

:VEHICLE_CATEGORIES_2_SET
gosub @StandardMenu      
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
        8019:   not  SELECTED_MENU_ITEM > 5 
        0029:   SELECTED_MENU_ITEM >= 0
    then
        0085: TEMPORARY_VALUE_1 = SELECTED_MENU_ITEM //group_id
        000A: TEMPORARY_VALUE_1 += 8                       
        0006: TEMPORARY_VALUE_2 = 0
        jump @VEHICLE_LIST_BUILD     
    else
        if 0039:   SELECTED_MENU_ITEM == 6
        then
            08DA: remove_panel CURRENT_MENU   
            jump @VEHICLE_CATEGORIES_1   
        end
        if 0039:   SELECTED_MENU_ITEM == 7 
        then 
            08DA: remove_panel CURRENT_MENU    
            jump @VEHICLE_MENU
        end
        if 0039:   SELECTED_MENU_ITEM == 8 
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @BC7MOD_START

:VEHICLE_LIST_BUILD
gosub @REMOVE_DYNAMIC_GXT_STRINGS
//group id      

18@v = ""              
0AD3: 16@s = format "vg%d" TEMPORARY_VALUE_1  
0AF4: 18@v = read_string_from_ini_file "cleo\vehicles.ini" section 16@s key "groupname" 
0006: TEMPORARY_VALUE_3 = TEMPORARY_VALUE_2      
0006: TEMPORARY_VALUE_3 = 0
 
0085: TEMPORARY_VALUE_4 = TEMPORARY_VALUE_2 // (int)     
0012: TEMPORARY_VALUE_4 *= 7 

if    
    0844:   string 18@v empty 
then 
    18@v = "" 
    08DA: remove_panel CURRENT_MENU
    jump @VEHICLE_CATEGORIES_1
end
    16@v = ""
    17@v = ""
    18@v = ""

:VEHICLE_BUILD_MENU
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'VECA0' position 29.0 145.0 width 200.0 columns 1 interactive 1 background 1 alignment 1
08DB: set_panel CURRENT_MENU column 0 header 'DUMMY' data 'DE0' 'DE1' 'DE2' 'DE3' 'DE4' 'DE5' 'DE6' 'DUMMY' 'BPRP' 'BNEP' 'BBACK' 'BEXIT'

if
    0039:   TEMPORARY_VALUE_2 == 0 
then
    08D9: set_panel CURRENT_MENU row 8 enable 0    
    else
    08D9: set_panel CURRENT_MENU row 8 enable 1
end

repeat 
    16@v = ""
    17@v = ""                                          
    18@v = ""            
    0AD3: 16@v = format "vg%d" TEMPORARY_VALUE_1    
    0AD3: 18@v = format "name%d" TEMPORARY_VALUE_4             
    0AF4: 17@v = read_string_from_ini_file "cleo\vehicles.ini" section 16@v key 18@v     
    0AD3: 18@v = format "%s" 17@v    
    0AD3: 16@v = format "DE%d" TEMPORARY_VALUE_3
                                                                               
    if    
        0844:   string 18@v empty 
    then 
        0ADF: add_dynamic_GXT_entry 16@v text ""
        08D9: set_panel CURRENT_MENU row TEMPORARY_VALUE_3 enable 0
        08D9: set_panel CURRENT_MENU row 9 enable 0
    else
        0ADF: add_dynamic_GXT_entry 16@v text 18@v    
    end 

000A: TEMPORARY_VALUE_3 += 1        
000A: TEMPORARY_VALUE_4 += 1      
until 0039:   TEMPORARY_VALUE_3 == 7

16@v = ""  
17@v = ""
18@v = "" 

:VEHICLE_BUILD_MENU_SET
gosub @StandardMenu      
if 
    0039:   MENU_VISIBLE == 1
then 
    if and
        8019:   not  SELECTED_MENU_ITEM > 6 
        0029:   SELECTED_MENU_ITEM >= 0
    then
        16@v = ""
        17@v = ""                                          
        18@v = "" 
        
        0012: TEMPORARY_VALUE_2 *= 7
        005A: TEMPORARY_VALUE_2 += SELECTED_MENU_ITEM
        0006: TEMPORARY_VALUE_4 = -1 



        0AD3: 16@v = format "vg%d" TEMPORARY_VALUE_1     
        0AD3: 18@v = format "vId%d" TEMPORARY_VALUE_2    
        
        0ADF: add_dynamic_GXT_entry "DB1" text 16@v
        0ADF: add_dynamic_GXT_entry "DB2" text 18@v
                         
        TEMPORARY_VALUE_4 = -1
        0AF0: TEMPORARY_VALUE_4 = get_int_from_ini_file "cleo\vehicles.ini" section 16@v key 18@v   
        
        
        if
         TEMPORARY_VALUE_4 == -1
        then
            08DA: remove_panel CURRENT_MENU
            gosub @SHOW_ERROR
            jump @VEHICLE_CATEGORIES_1
        end
        
        wait 0
        0247: load_model TEMPORARY_VALUE_4

        repeat
            wait 0
        until 0248:   model TEMPORARY_VALUE_4 available 
        
        04C4: store_coords_to TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3 from_actor $PLAYER_ACTOR with_offset 0.0 5.0 0.1 
        0674: set_car_model TEMPORARY_VALUE_4 numberplate "BC7MOD" 
        00A5: TEMPORARY_MODEL = create_car TEMPORARY_VALUE_4 at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2 TEMPORARY_VALUE_3
        0172: TEMPORARY_VALUE_1 = actor $PLAYER_ACTOR Z_angle 
        0175: set_car TEMPORARY_MODEL Z_angle_to TEMPORARY_VALUE_1
        020A: set_car TEMPORARY_MODEL door_status_to 0
        01C3: remove_references_to_car TEMPORARY_MODEL
        Model.Destroy(TEMPORARY_VALUE_4)
        077E: get_active_interior_to TEMPORARY_VALUE_2 
        0840: link_car TEMPORARY_MODEL to_interior TEMPORARY_VALUE_2 
        16@v = ""
        17@v = ""                                          
        18@v = "" 
        gosub @RemoveMenu  
    else
        if 0039:   SELECTED_MENU_ITEM == 8
        then
            08DA: remove_panel CURRENT_MENU
            000E: TEMPORARY_VALUE_2 -= 1
            jump @VEHICLE_LIST_BUILD  
        end
        if 0039:   SELECTED_MENU_ITEM == 9 
        then 
            08DA: remove_panel CURRENT_MENU
            000A: TEMPORARY_VALUE_2 += 1
            jump @VEHICLE_LIST_BUILD
        end
        if 0039:   SELECTED_MENU_ITEM == 10 
        then
            08DA: remove_panel CURRENT_MENU
            if 
                0019:   TEMPORARY_VALUE_1 > 7
            then
                jump @VEHICLE_CATEGORIES_2 
            else
                jump @VEHICLE_CATEGORIES_1 
            end     
        end
        if 0039:   SELECTED_MENU_ITEM == 11 
        then
            gosub @RemoveMenu
            jump @BC7MOD_START       
        end
    end
end
jump @BC7MOD_START

:HOTKEYS
03E6: remove_text_box 
0512: show_permanent_text_box 'HOMEI'
08DA: remove_panel CURRENT_MENU
08D4: CURRENT_MENU = create_panel_with_title 'HOMET' position 50.0 150.0 width 400.0 columns 1 interactive 1 background 1 alignment 1 
08DB: set_panel CURRENT_MENU column 0 header 'HOMEH' data 'KEYP1' 'DUMMY' 'GEUS' 'GEUC' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
08D9: set_panel CURRENT_MENU row 0 enable 0 

//Todo: change to readable vars
//      Cleanup
:HOTKEYS_SET
015D: set_gamespeed 0.1 
Player.CanMove($PLAYER_CHAR) = False
04D7: set_actor $PLAYER_ACTOR locked 1
13@s = ''
15@s = ''
17@s = '' 
TEMPORARY_FLAG_1 = 1
0006: TEMPORARY_VALUE_1 = 112
0006: HOTKEY_OTHER = 0
0006: HOTKEY_CTRL = 17
///
0AF0: HOTKEY_CTRL = get_int_from_ini_file "cleo\BC7MOD_config.ini" section "keys" key "ctrl"
0AF0: HOTKEY_OTHER = get_int_from_ini_file "cleo\BC7MOD_config.ini" section "keys" key "hotkey"     

if or
0019:   HOTKEY_OTHER > 123 
8019:   not  HOTKEY_OTHER > 112 
then
        0A8C: write_memory 0x969110 size 1 value HOTKEY_OTHER virtual_protect 0 
end   


0006: 33@ = 0     
repeat 
wait 0
    0A8D: 15@ = read_memory 0x969110 size 1 virtual_protect 0
    08D7: SELECTED_MENU_ITEM = panel CURRENT_MENU active_row 

    if
    0019:   TEMPORARY_VALUE_1 > 123 
    then
        0006: TEMPORARY_VALUE_1 = 112
    end 
    
    if 8029:   not  TEMPORARY_VALUE_1 >= 111 
    then
        0006: TEMPORARY_VALUE_1 = 112
    end
    
    if and
    0AB0:  key_pressed 15@   
    8039:   not  15@ == 32 
    then
         0085: HOTKEY_OTHER = 15@    
    end 
    

    
    if
    0AB0:  key_pressed TEMPORARY_VALUE_1   
    then
         0085: HOTKEY_OTHER = TEMPORARY_VALUE_1  
    end       
    
    if and
    0029:   HOTKEY_OTHER >= 112 
    8019:   not  HOTKEY_OTHER > 123 
    then
        0006: HOTKEY_CTRL = 0
        0085: TEMPORARY_VALUE_2 = HOTKEY_OTHER  
        000E: TEMPORARY_VALUE_2 -= 111
        0AD3: string 15@s format "F%d" TEMPORARY_VALUE_2
    end         
    
    
    if 
    0039:   HOTKEY_CTRL == 1
    then
        if and
        0029:   HOTKEY_OTHER >= 48 
        8019:   not  HOTKEY_OTHER > 90 
        then
            08D9: set_panel CURRENT_MENU row 2 enable 1
        else
            08D9: set_panel CURRENT_MENU row 2 enable 0      
        end
    else
            if and
            0029:   HOTKEY_OTHER >= 112 
            8019:   not  HOTKEY_OTHER > 123 
            then
                08D9: set_panel CURRENT_MENU row 2 enable 1
            else
                08D9: set_panel CURRENT_MENU row 2 enable 0
            end
    end

    
    if 0039:   HOTKEY_CTRL == 1 
    then
    13@s = 'CTRL+' 
    else                                
    13@s = '' 
    end
    
    0AD3: string 17@v format "%s%s" 13@s 15@s  
    0AE0: remove_dynamic_GXT_entry "KEYP1"
    0ADF: add_dynamic_GXT_entry "KEYP1" text 17@v
    17@v = "" 
    000A: TEMPORARY_VALUE_1 += 1  
    
               
    if  0019:   33@ > 7
    then
    0006: 33@ =  0  
                
        if 0AB0:  key_pressed 17
        then
            if 0039:   HOTKEY_CTRL == 1
            then
                0006: HOTKEY_CTRL =  0
                else 
                0006: HOTKEY_CTRL =  1   
            end 
            wait 10    
        end   
        
        if 00E1:   player 0 pressed_key 16 
        then
            repeat
                wait 0
            until 80E1:   not player 0 pressed_key 16
            if 0039:   SELECTED_MENU_ITEM == 2
            then
                0AF1: write_int HOTKEY_CTRL to_ini_file "cleo\BC7MOD_config.ini" section "keys" key "ctrl"
                0AF1: write_int HOTKEY_OTHER to_ini_file "cleo\BC7MOD_config.ini" section "keys" key "hotkey"
                
                if 8039:   not  HOTKEY_CTRL == 1
                then
                    0085: HOTKEY_CTRL = HOTKEY_OTHER 
                    else
                    0006: HOTKEY_CTRL = 17
                end                 
                08DA: remove_panel CURRENT_MENU
                0006: TEMPORARY_FLAG_1 = 0
                jump @SETTINGS
            end 
            if 0039:   SELECTED_MENU_ITEM == 3
            then                     
                0006: TEMPORARY_FLAG_1 = 0                                                           
                08DA: remove_panel CURRENT_MENU
                jump @SETTINGS
            end 
        end 
    end 
until 8039:   not  TEMPORARY_FLAG_1 == 1

gosub @RemoveMenu
jump @BC7MOD_START


{                               
 EXPIRIMENTAL FUNCTIONS BELOW   
                               }
                               
                               


{                               
 END OF EXPIRIMENTAL FUNCTIONS  
                               }

//=========================================================================\\
jump @BC7MOD_MAINMENU
0A93: end_custom_thread     
////////////////////////////////////////////////////////////////////////////
// Public Functions                                                       //
////////////////////////////////////////////////////////////////////////////

:StandardMenu     
0512: show_permanent_text_box 'CLOTHA'
    repeat
        wait  0 ms
        Player.CanMove($PLAYER_CHAR) = False
        04D7: set_actor $PLAYER_ACTOR locked 1
        if
            00E1:   player 0 pressed_key 15 //anuleren 
        then  
            gosub @RemoveMenu 
            return 
        end  
    until 00E1:   player 0 pressed_key 16
    
    repeat
        wait 0
    until 80E1:   not player 0 pressed_key 16 
    08D7: SELECTED_MENU_ITEM = panel CURRENT_MENU active_row 
return                       

:RemoveMenu         
    08DA: remove_panel CURRENT_MENU 
    03E6: remove_text_box 
    Player.CanMove($PLAYER_CHAR) = True 
    04D7: set_actor $PLAYER_ACTOR locked 0
    015A: restore_camera 
    01B4: toggle_player $PLAYER_CHAR can_move 1
    gosub @SetGamespeed  
    MENU_VISIBLE = 0
    SELECTED_MENU_ITEM = 0    
return    

:ValueMenu  
0512: show_permanent_text_box 'VAMED'
015D: set_gamespeed 0.1
Player.CanMove($PLAYER_CHAR) = False
04D7: set_actor $PLAYER_ACTOR locked 1
33@ = 0 //timer  
repeat        
    wait  0 ms 
    if 0AB0:  key_pressed 16
    then
        TEMPORARY_FLAG_1 = 0x0C
    else
        TEMPORARY_FLAG_1 = -1
    end 
    
    if 0019:  33@ > 10
    then  
        33@ = 0
        if and 
        0AB0:  key_pressed 37        
        0025:   GENERAL_VALUE_HOLDER > GENERAL_VALUE_MIN // (float) 
        then
            if 0039:   TEMPORARY_FLAG_1 == 0x0C
            then
                0087: TEMPORARY_INTEGER_1 = GENERAL_STEP_VALUE // (float) 
                0013: TEMPORARY_INTEGER_1 *= 10.0
                0063: GENERAL_VALUE_HOLDER -= TEMPORARY_INTEGER_1 // (float) 
            else
                0063: GENERAL_VALUE_HOLDER -= GENERAL_STEP_VALUE
            end 
            0006: SELECTED_MENU_ITEM = -1 
            return
        end
        
        if and
        0AB0:  key_pressed 39
        0025:  GENERAL_VALUE_MAX > GENERAL_VALUE_HOLDER// (float) 
        then             
            if 0039:   TEMPORARY_FLAG_1 == 0x0C
            then
                0087: TEMPORARY_INTEGER_1 = GENERAL_STEP_VALUE // (float) 
                0013: TEMPORARY_INTEGER_1 *= 10.0
                005B: GENERAL_VALUE_HOLDER += TEMPORARY_INTEGER_1 // (float) 
            else
                005B: GENERAL_VALUE_HOLDER += GENERAL_STEP_VALUE
            end   
            0006: SELECTED_MENU_ITEM = -1 
            return                     
        end
    end      
    if
        00E1:   player 0 pressed_key 15
    then  
        gosub @RemoveMenu 
        return 
    end  
until 00E1:   player 0 pressed_key 16
if 00E1:   player 0 pressed_key 16 
then
    repeat
        wait 0
    until 80E1:   not player 0 pressed_key 16 
    08D7: SELECTED_MENU_ITEM = panel CURRENT_MENU active_row 
else
    0006: SELECTED_MENU_ITEM = -1 
end
return         
             
:SetGamespeed
   015D: set_gamespeed GAME_SPEED
return

:SetPlayerAtPositionInInterior
fade 0 500
wait 500
Actor.PutAt($PLAYER_ACTOR, TEMPORARY_VALUE_1, TEMPORARY_VALUE_2, TEMPORARY_VALUE_3)
select_interior TEMPORARY_INTEGER_1 
0860: link_actor $PLAYER_ACTOR to_interior TEMPORARY_INTEGER_1 
04E4: unknown_refresh_game_renderer_at TEMPORARY_VALUE_1 TEMPORARY_VALUE_2
wait 0 
    if 
       Actor.Driving($PLAYER_ACTOR)
    then 
        0840: link_car PLAYER_VEHICLE to_interior TEMPORARY_INTEGER_1 
    end
wait 500
fade 1 500
return

//Todo: Cleanup
:Enable_special_Frozen_state
0A8C: write_memory 0x53BF8A size 2 value 0x9090 virtual_protect 1
0A8C: write_memory 0x53BF96 size 6 value 0x90 virtual_protect 1 
//0A8C: write_memory 0xB7CB49 size 1 value 1 virtual_protect 0 
return

:Disable_special_Frozen_state
0A8C: write_memory 0x53BF8A size 2 value 0xC084 virtual_protect 1  
0A8C: write_memory 0x53BF96 size 4 value 0x0298850F virtual_protect 1 
0A8C: write_memory 0x53BF9A size 2 value 0x0 virtual_protect 1 
//0A8C: write_memory 0xB7CB49 size 1 value 0 virtual_protect 0 
return

:SetcitizenPlayerModel
    Model.Load(PLAYER_MODEL_DEFAULT)
    038B: load_requested_models 
    repeat
        wait 10
    until Model.Available(PLAYER_MODEL_DEFAULT)
    09C7: change_player $PLAYER_CHAR model_to PLAYER_MODEL_DEFAULT 
    Model.Destroy(PLAYER_MODEL_DEFAULT)
return

:SetgangPlayerModel
    Model.Load(PLAYER_MODEL_GANG)
    038B: load_requested_models 
    repeat
        wait 10
    until Model.Available(PLAYER_MODEL_GANG)
    09C7: change_player $PLAYER_CHAR model_to PLAYER_MODEL_GANG 
    Model.Destroy(PLAYER_MODEL_GANG)
return

:SetcopPlayerModel
    Model.Load(PLAYER_MODEL_COP)
    038B: load_requested_models 
    repeat
        wait 10
    until Model.Available(PLAYER_MODEL_COP)
    09C7: change_player $PLAYER_CHAR model_to PLAYER_MODEL_COP 
    Model.Destroy(PLAYER_MODEL_COP)
return

:SetspecialPlayerModel
    repeat
        wait 10
    until 023D:   special_actor 1 loaded 
        09C7: change_player $PLAYER_CHAR model_to #SPECIAL01 
        0296: unload_special_actor 1
return  

:GiveWeaponToPlayer
    Model.Load(TEMPORARY_MODEL)
    038B: load_requested_models 
    repeat
        wait 10
    until Model.Available(TEMPORARY_MODEL)
    01B2: give_actor $PLAYER_ACTOR weapon GENERAL_VALUE_HOLDER ammo 99999 
    Model.Destroy(TEMPORARY_MODEL) 
return 


:TextPoolKeyboard 
    015D: set_gamespeed 0.1
    Player.CanMove($PLAYER_CHAR) = False
    04D7: set_actor $PLAYER_ACTOR locked 1
while KEYBOARD_TYPING == true
    wait 5
    
    if 
        8AB0:   not key_pressed 40
    then
        090E: set_panel CURRENT_MENU active_row 0  
    else
         repeat
            wait 0
         until 8AB0:   not key_pressed 40 
        090E: set_panel CURRENT_MENU active_row 2
        KEYBOARD_TYPING = false
    end
    
    if
        KEYBOARD_TYPING == true
    then
    
        0AC6: TEXT_ARRAY = label @TextPool offset
        0085: TEMPORARY_VALUE_2 = TEXT_ARRAY 
        
        0AE0: remove_dynamic_GXT_entry "KEYPE"
        0ADF: add_dynamic_GXT_entry "KEYPE" text TEXT_ARRAY
        
        0A8D: TEMPORARY_VALUE_3 = read_memory 0x969110 size 1 virtual_protect 0
    
            if and
                8AB0:   not key_pressed 0x8 // Backspace   
                801D:   not  TEMPORARY_VALUE_4 > TEMPORARY_INTEGER_1
            then                  
                if
                    not TEMPORARY_VALUE_3 == 0
                then
                    if and
                        8AB0: key_pressed 0x10 // Shift
                        TEMPORARY_VALUE_3 > 0x40 
                        TEMPORARY_VALUE_3 < 0x5B 
                    then
                        TEMPORARY_VALUE_3 += 0x20 
                    end
                    
                    if
                        TEMPORARY_VALUE_3 == 0x20
                    then
                        TEMPORARY_VALUE_3 = 0x5F
                    end             
                    
                    if
                        TEMPORARY_FLAG_1 == 0xd1
                    then
                        if and
                            TEMPORARY_VALUE_3 > 0x29
                            TEMPORARY_VALUE_3 < 0x40
                        then
                            005A: TEMPORARY_VALUE_2 += TEMPORARY_VALUE_4 
                            0A8C: write_memory TEMPORARY_VALUE_2 size 1 value TEMPORARY_VALUE_3 virtual_protect 0 
                            0A8C: write_memory 0x969110 size 1 value 0 virtual_protect 0
                            TEMPORARY_VALUE_4 += 0x1
                        else
                            0A8C: write_memory 0x969110 size 1 value 0 virtual_protect 0 
                        end
                    else
                        005A: TEMPORARY_VALUE_2 += TEMPORARY_VALUE_4 
                        0A8C: write_memory TEMPORARY_VALUE_2 size 1 value TEMPORARY_VALUE_3 virtual_protect 0 
                        0A8C: write_memory 0x969110 size 1 value 0 virtual_protect 0 
                        TEMPORARY_VALUE_4 += 0x1
                    end
                end
            else 
                if
                    TEMPORARY_VALUE_4 > 0x0 
                then
                    TEMPORARY_VALUE_4 -= 0x1 
                    005A: TEMPORARY_VALUE_2 += TEMPORARY_VALUE_4 
                    0A8C: write_memory TEMPORARY_VALUE_2 size 1 value 0x0 virtual_protect 0 
                end
            end
        end
end
    015D: set_gamespeed 0.0
    //KEYBOARD_TYPING = true
return

:CLEAR_TEXT_BUFFER
    TEMPORARY_VALUE_4 = 0
    
    while 8019:   not  TEMPORARY_VALUE_4 > 28
        0AC6: TEXT_ARRAY = label @TextPool offset
        0085: TEMPORARY_VALUE_2 = TEXT_ARRAY
        005A: TEMPORARY_VALUE_2 += TEMPORARY_VALUE_4
        0A8C: write_memory TEMPORARY_VALUE_2 size 1 value 0x0 virtual_protect 0
        TEMPORARY_VALUE_4 += 1
    end 
   TEMPORARY_VALUE_2 = 0
   TEMPORARY_VALUE_3 = 0
    TEMPORARY_VALUE_4 = 0   
   
   0A8C: write_memory 0x969110 size 1 value 0 virtual_protect 0 // Clears keypresses buffer
return

:REMOVE_DYNAMIC_GXT_STRINGS
0AE0: remove_dynamic_GXT_entry "DE0"
0AE0: remove_dynamic_GXT_entry "DE1"
0AE0: remove_dynamic_GXT_entry "DE2"
0AE0: remove_dynamic_GXT_entry "DE3"
0AE0: remove_dynamic_GXT_entry "DE4"
0AE0: remove_dynamic_GXT_entry "DE5"
0AE0: remove_dynamic_GXT_entry "DE6"
0AE0: remove_dynamic_GXT_entry "DE7"
0AE0: remove_dynamic_GXT_entry "DE8"
0AE0: remove_dynamic_GXT_entry "DE9"
0AE0: remove_dynamic_GXT_entry "DE10"
0AE0: remove_dynamic_GXT_entry "DE11"
0AE0: remove_dynamic_GXT_entry "DE12"
return


:Create_Vars
    0A9F: THREAD_POINTER = current_thread_pointer
    0AB1: call_scm_func @MakeNewVars 2 amount 9 this_threads_pointer THREAD_POINTER use_index EXTRA_VARS_MEMORY_ARRAY
return

:Remove_Vars
    0A9F: THREAD_POINTER = current_thread_pointer
    0AB1: call_scm_func @ReleaseVars 2 at_index EXTRA_VARS_MEMORY_ARRAY this_threads_pointer THREAD_POINTER
return

:GET_HOTKEYS
0AF0: HOTKEY_CTRL = get_int_from_ini_file "cleo\BC7MOD_config.ini" section "keys" key "ctrl"
0AF0: HOTKEY_OTHER = get_int_from_ini_file "cleo\BC7MOD_config.ini" section "keys" key "hotkey"    

if 8039:   not  HOTKEY_CTRL == 1 
then
    0085: HOTKEY_CTRL = HOTKEY_OTHER 
    else
    0006: HOTKEY_CTRL = 17
end
return

//Needs cleanup: replaced by: 0BC0: 1@ = get_handling_offset_from_vehicle_model 0@
:GetHandlingOffset
0441: TEMPORARY_VALUE_1 = car PLAYER_VEHICLE model
TEMPORARY_VALUE_1 -= 400 
TEMPORARY_VALUE_1 *= 0x308
TEMPORARY_VALUE_1 += 0xB1F650
TEMPORARY_VALUE_1 += 0x4E
0A8D: HANDLING_OFFSET = read_memory TEMPORARY_VALUE_1 size 2 virtual_protect 0 // get handling ID
HANDLING_OFFSET *= 0xE0
HANDLING_OFFSET += 0xC2B9DC
return

:MakeNewVars
0012: 0@ *= 4           
0AC8: 0@ = malloc 0@    
000A: 1@ += 0xC4        
0A8F: 0@ = 0@ - 1@      
0016: 0@ /= 4           
0AB2: ret 1 0@          

:ReleaseVars
0012: 0@ *= 4           
000A: 1@ += 0xC4        
0A8E: 0@ = 0@ + 1@      
0AC9: free_malloc 0@  
0AB2: ret 0

////////////////////////////////////////////////////////////////////////////
//  Checks                                                                //
////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////
//  Hexadecimal vars                                                      //
////////////////////////////////////////////////////////////////////////////
:TextPool
hex
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
end  